{
  "hash": "8e59d5a43ef2250f84944992d2896195",
  "result": {
    "markdown": "# データセット\n\nRには、データ処理や統計の計算、関数などを試すために、<font color=\"red\">**データセット**</font>と呼ばれる、あらかじめ準備されているデータがあります。このデータセットの多くは、データセットを指定する変数名を用いればいつでも呼び出すことができます。また、多くのライブラリには、そのライブラリの関数を試しに使ってみるためのデータセットが備わっています。Rにあらかじめ備わっているデータセットの一覧は、<font color = \"red\">**data関数**</font>を用いて確認することができます。data関数を引数なしで実行するとデータセットのリストが、packageにライブラリ名を指定するとそのライブラリが持つデータセットが表示されます。\n\ndata関数は、ライブラリに含まれているデータセットを呼び出す際にも使用します。呼び出すときには、ライブラリ名（ライブラリをロードしているときは省略可）とそのデータセット名を引数に取ります。\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Rのデータセット一覧を表示\ndata()\n\n# インストールされているパッケージすべてのデータセット一覧を表示\ndata(package = .packages(all.available = TRUE))\n\n# ggplot2パッケージに含まれるデータセット一覧を表示\ndata(package = \"ggplot2\")\n\n# ggplot2パッケージのdiamondsというデータセットを読み込む\ndata(package = \"ggplot2\", \"diamonds\")\n```\n:::\n\n\n以下の表1に、Rにあらかじめ備わっているデータセットの一覧とその説明を示します。\n\n\n::: {.cell}\n::: {.cell-output-display}\nTable: 表1 Rのデータセットの一覧\n\n|データセット     |データセットの説明                                                                                        |データ型       |代表的なReference                          |\n|:----------------|:---------------------------------------------------------------------------------------------------------|:--------------|:------------------------------------------|\n|AirPassengers    |1949-1960年の国際線旅客数の推移                                                                           |時系列         |Box, et al. (1976)                         |\n|BJsales          |Box & Jenkins (1976) に記載されている売上データ                                                           |時系列         |Box, et al. (1976)                         |\n|BJsales.lead     |Box & Jenkins (1976)に記載されている売上の先行指標データ                                                  |時系列         |Box, et al. (1976)                         |\n|BOD              |水中酸素要求量と水質の関係を示したデータ                                                                  |データフレーム |Bates and Watts (1988)                     |\n|CO2              |低温馴化したイヌビエのCO2濃度と光合成速度に関するデータ                                                   |データフレーム |Potvin et al. (1990)                       |\n|ChickWeight      |ヒヨコの餌と体重増加の関係に関するデータ                                                                  |データフレーム |Crowder and Hand (1990)                    |\n|DNase            |DNA分解酵素を用いてELISA（Enzyme-Linked Immunosorbent Assay：酵素結合免疫吸着検定法）を開発した際のデータ |データフレーム |Davidian and Giltinan (1995)               |\n|EuStockMarkets   |1991-1998年のヨーロッパ株式市場の終値                                                                     |時系列         |Erste Bank AG, Vienna, Austria.            |\n|Formaldehyde     |クロモトープ酸と濃硫酸からホルムアルデヒドを生成した時の検量線データ                                      |データフレーム |McNeil (1977)                              |\n|HairEyeColor     |592人の学生の髪と目の色                                                                                   |3次元アレイ    |Snee (1974)                                |\n|Harman23.cor     |7～17歳女性の体形データの相関係数                                                                         |リスト         |Harman (1976)                              |\n|Harman74.cor     |7－8グレードの学生の心理学テスト結果の相関係数                                                            |リスト         |Harman (1976)                              |\n|Indometh         |インドメタシンの薬物動態データ                                                                            |データフレーム |Kwan et al. (1976)                         |\n|InsectSprays     |殺虫剤で処理した昆虫の数                                                                                  |データフレーム |Beall (1942)                               |\n|JohnsonJohnson   |J&Jの4半期の1株当たり売上                                                                                 |時系列         |Shumway et al. (2000)                      |\n|LakeHuron        |1875-1972年のヒューロン湖の水位データ                                                                     |時系列         |Brockwell and Davis (1991)                 |\n|LifeCycleSavings |1960-1970年の各国の人口年齢構成と可処分所得                                                               |データフレーム |Sterling (1977)                            |\n|Loblolly         |テーダマツの成長データ                                                                                    |データフレーム |Kung (1986)                                |\n|Nile             |1871-1970年のナイル川の年間流量                                                                           |時系列         |Durbin and Koopman (2001)                  |\n|Orange           |オレンジの樹齢と幹の円周径の関係                                                                          |データフレーム |Draper and Smith (1998)                    |\n|OrchardSprays    |ラテン方角で行ったミツバチを退治するスプレーの評価                                                        |データフレーム |Finney (1947)                              |\n|PlantGrowth      |植物を2つの栽培条件で栽培した時の収量の違い                                                               |データフレーム |Dobson (1983)                              |\n|Puromycin        |細胞にPuromycinを与えた時の酵素の反応率                                                                   |データフレーム |Treloar (1974)                             |\n|Seatbelts        |1969-1984年のUKでの交通事故死者数とシートベルト義務化の関係                                               |時系列         |Harvey (1989)                              |\n|Theoph           |テオフィリンの薬物動態データ                                                                              |データフレーム |Boeckmann et al. (1994)                    |\n|Titanic          |タイタニックの乗客データと死者数                                                                          |4次元アレイ    |Dawson et al. (1995)                       |\n|ToothGrowth      |モルモットへのビタミンC投与の象牙芽細胞の長さへの影響                                                     |データフレーム |Bliss (1952)                               |\n|UCBAdmissions    |UCバークレーの大学院進学データ                                                                            |3次元アレイ    |Bickelet al. (1975)                        |\n|UKDriverDeaths   |1969-1984年のUKでの交通事故死者数の推移                                                                   |時系列         |Harvey (1989)                              |\n|UKgas            |1960-1986年のUKでのガス消費量の推移                                                                       |時系列         |Durbin and Koopman (2001)                  |\n|USAccDeaths      |1973-1978年のUSでの事故死者数の推移                                                                       |時系列         |Brockwell and Davis (1991)                 |\n|USArrests        |1973年のUS各州での人口10万人あたりの暴力的犯罪の件数                                                      |データフレーム |McNeil (1977)                              |\n|USJudgeRatings   |1951-1961年の各地域の電話の設置件数（1000台単位）                                                         |行列           |McNeil (1977)                              |\n|ability.cov      |112人の6つのテストのスコアの相関行列                                                                      |リスト         |Bartholomew (1987)                         |\n|airmiles         |1937-1960年のUSの旅客マイル数の推移                                                                       |時系列         |F.A.A. Statistical Handbook of Aviation.   |\n|airquality       |1973年のNYの大気汚染の度合い                                                                              |データフレーム |Chambers et al. (1983)                     |\n|anscombe         |UKの犯罪者3000人の身長と指の長さ                                                                          |行列           |Garson (1900)                              |\n|discoveries      |1860-1959年の偉大な発見の件数                                                                             |時系列         |McNeil (1977)                              |\n|esoph            |食道がんの発生とたばこ・飲酒の関係                                                                        |データフレーム |Breslow and Day (1980)                     |\n|euro             |ヨーロッパ通貨間の為替レート                                                                              |ベクター       |ー                                         |\n|euro.cross       |ヨーロッパ通貨間の為替レート                                                                              |マトリックス   |ー                                         |\n|eurodist         |ヨーロッパ通貨間の為替レート都市間の距離                                                                  |距離行列       |Crystal (1990)                             |\n|faithful         |イエローストーン国立公園の間欠泉のデータ                                                                  |データフレーム |Azzalini and Bowman (1990)                 |\n|freeny           |Freenyの4半期収支のデータ                                                                                 |行列           |Freeny (1977)                              |\n|freeny.y         |アヤメの花のデータ                                                                                        |データフレーム |Fisher (1936)                              |\n|iris3            |10000平方マイルを超える面積の島の数                                                                       |ベクター       |McNeil (1977)                              |\n|ldeaths          |1974-1979年のUKにおける気管支炎等での死亡者数                                                             |時系列         |Diggle (1990)                              |\n|fdeaths          |1974-1979年のUKにおける気管支炎等での死亡者数（女性）                                                     |時系列         |Diggle (1990)                              |\n|mdeaths          |1974-1979年のUKにおける気管支炎等での死亡者数（男性）                                                     |時系列         |Diggle (1990)                              |\n|lh               |黄体形成ホルモンの血中濃度の変化                                                                          |時系列         |Diggle (1990)                              |\n|longley          |睡眠薬2種を接種した学生の睡眠量のデータ                                                                   |データフレーム |Cushny and Peebles (1905)                  |\n|stackloss        |アンモニアをニトリル酸に酸化する工場のデータ                                                              |ベクター       |Brownlee (1965)                            |\n|stack.x          |マウンガファウ位置と標高のデータ                                                                          |行列           |ー                                         |\n|warpbreaks       |布織の際の経糸切れの数のデータ                                                                            |データフレーム |Tippett (1950)                             |\n|women            |30-39歳の女性の体重と身長のデータ                                                                         |データフレーム |The World Almanac and Book of Facts, 1975. |\n:::\n:::\n\n\n:::{.callout-note}\nRのデータセットについては、[中央大学理工学部の酒折先生のページ](https://www.math.chuo-u.ac.jp/~sakaori/Rdata.html)に詳細に記載されています。\n:::\n\n## 代表的なデータセット\n\n### iris\n\n<font color=\"red\">**iris**</font>は3種のアヤメ（[ヒオウギアヤメ](https://ja.wikipedia.org/wiki/%E3%83%92%E3%82%AA%E3%82%A6%E3%82%AE%E3%82%A2%E3%83%A4%E3%83%A1)（*Iris setosa*）、[blue flag](https://en.wikipedia.org/wiki/Iris_versicolor)（*Iris versicolor*）、[Virginia blueflag](https://en.wikipedia.org/wiki/Iris_virginica)（*Iris virginica*））の花弁とがく片の長さと幅を記録したデータです。Fisherがこのデータを利用したことで有名で、Rでは最も見かけることが多いデータセットです。irisは150行のデータフレームで、左の列から、Sepal.Length（がく片の長さ）、Sepal.Width（がく片の幅）、Petal.Length（花弁の長さ）、Petal.Width（花弁の幅）、Species（種小名）の5列が登録されています。irisの最も上の6行は以下の通りです。\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(iris)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1          5.1         3.5          1.4         0.2  setosa\n2          4.9         3.0          1.4         0.2  setosa\n3          4.7         3.2          1.3         0.2  setosa\n4          4.6         3.1          1.5         0.2  setosa\n5          5.0         3.6          1.4         0.2  setosa\n6          5.4         3.9          1.7         0.4  setosa\n```\n:::\n:::\n\n\n### Nile\n\n**Nile**はナイル川の水量を1871～1970年にかけて、年次で測定したデータです（単位は10^8^ m^3^）。ナイル川では1902年に[アスワン・ダム](https://ja.wikipedia.org/wiki/%E3%82%A2%E3%82%B9%E3%83%AF%E3%83%B3%E3%83%BB%E3%83%AD%E3%82%A6%E3%83%BB%E3%83%80%E3%83%A0)が、1970年に[アスワン・ハイ・ダム](https://ja.wikipedia.org/wiki/%E3%82%A2%E3%82%B9%E3%83%AF%E3%83%B3%E3%83%BB%E3%83%8F%E3%82%A4%E3%83%BB%E3%83%80%E3%83%A0)が完成しています。このNileのデータセットでは、1898年頃（イギリスによるアスワン・ダムの建設開始時期）から水量が減っている\nことで有名で、非連続的な時系列データを取り扱うときの参考にされています。Nileは時系列型（ts）のデータセットです。\n\n\n::: {.cell}\n\n```{.r .cell-code}\nNile\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nTime Series:\nStart = 1871 \nEnd = 1970 \nFrequency = 1 \n  [1] 1120 1160  963 1210 1160 1160  813 1230 1370 1140  995  935 1110  994 1020\n [16]  960 1180  799  958 1140 1100 1210 1150 1250 1260 1220 1030 1100  774  840\n [31]  874  694  940  833  701  916  692 1020 1050  969  831  726  456  824  702\n [46] 1120 1100  832  764  821  768  845  864  862  698  845  744  796 1040  759\n [61]  781  865  845  944  984  897  822 1010  771  676  649  846  812  742  801\n [76] 1040  860  874  848  890  744  749  838 1050  918  986  797  923  975  815\n [91] 1020  906  901 1170  912  746  919  718  714  740\n```\n:::\n\n```{.r .cell-code}\nplot(Nile)\n```\n\n::: {.cell-output-display}\n![](chapter14_files/figure-pdf/unnamed-chunk-4-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n### Titanic\n\n**Titanic**は、タイタニック号に乗船していた旅客とクルーの性別・船室（一等船室、二等船室、三等船室、クルー）・年齢区分（大人・子供）・生死に関する人数を4次元のArrayとしたものです。RではTitanicを用いることはそれほどありませんが、[kaggle](https://www.kaggle.com/)という、機械学習の性能コンテストサイトでは機械学習の手習いとしてこのデータを用い、どのような性質の旅客であれば生存率が高いか、といった予測を行うモデルを作成するのによく用いられています。\n\n\n::: {.cell}\n\n```{.r .cell-code}\nTitanic\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n, , Age = Child, Survived = No\n\n      Sex\nClass  Male Female\n  1st     0      0\n  2nd     0      0\n  3rd    35     17\n  Crew    0      0\n\n, , Age = Adult, Survived = No\n\n      Sex\nClass  Male Female\n  1st   118      4\n  2nd   154     13\n  3rd   387     89\n  Crew  670      3\n\n, , Age = Child, Survived = Yes\n\n      Sex\nClass  Male Female\n  1st     5      1\n  2nd    11     13\n  3rd    13     14\n  Crew    0      0\n\n, , Age = Adult, Survived = Yes\n\n      Sex\nClass  Male Female\n  1st    57    140\n  2nd    14     80\n  3rd    75     76\n  Crew  192     20\n```\n:::\n:::\n\n\n### BostonHousing\n\n**BostonHousing**も、Rでというよりは機械学習の分野で、家賃の予測モデル作成の手習いとしてよく用いられています。BostonHousingは、その名の通りボストンの住宅価格と地域周辺の犯罪率・住宅の部屋数・税率・高速道路へのアクセスなどを、1970年のセンサス（国勢調査）から収集してまとめたものです。Rでは、mlbenchパッケージ（機械学習のベンチマークデータセットを集めたもの）に含まれており、使用するためにはmlbenchパッケージをインストール・ロードする必要があります。BostonHousingのデータ型はデータフレームです。\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(mlbench)\ndata(\"BostonHousing\")\nhead(BostonHousing)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     crim zn indus chas   nox    rm  age    dis rad tax ptratio      b lstat\n1 0.00632 18  2.31    0 0.538 6.575 65.2 4.0900   1 296    15.3 396.90  4.98\n2 0.02731  0  7.07    0 0.469 6.421 78.9 4.9671   2 242    17.8 396.90  9.14\n3 0.02729  0  7.07    0 0.469 7.185 61.1 4.9671   2 242    17.8 392.83  4.03\n4 0.03237  0  2.18    0 0.458 6.998 45.8 6.0622   3 222    18.7 394.63  2.94\n5 0.06905  0  2.18    0 0.458 7.147 54.2 6.0622   3 222    18.7 396.90  5.33\n6 0.02985  0  2.18    0 0.458 6.430 58.7 6.0622   3 222    18.7 394.12  5.21\n  medv\n1 24.0\n2 21.6\n3 34.7\n4 33.4\n5 36.2\n6 28.7\n```\n:::\n:::\n\n\n### diamonds\n\n**diamonds**はグラフ作成ライブラリである、ggplot2に含まれるデータセットです。ggplot2を用いたグラフ作成例ではよく用いられています。diamondsはダイヤモンドのカラット数、透明性、カット、価格などをまとめたデータフレームです。\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(ggplot2::diamonds)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 x 10\n  carat cut       color clarity depth table price     x     y     z\n  <dbl> <ord>     <ord> <ord>   <dbl> <dbl> <int> <dbl> <dbl> <dbl>\n1  0.23 Ideal     E     SI2      61.5    55   326  3.95  3.98  2.43\n2  0.21 Premium   E     SI1      59.8    61   326  3.89  3.84  2.31\n3  0.23 Good      E     VS1      56.9    65   327  4.05  4.07  2.31\n4  0.29 Premium   I     VS2      62.4    58   334  4.2   4.23  2.63\n5  0.31 Good      J     SI2      63.3    58   335  4.34  4.35  2.75\n6  0.24 Very Good J     VVS2     62.8    57   336  3.94  3.96  2.48\n```\n:::\n:::\n\n\n### Gapminder\n\nGapminderは1952～2007年の各国のGDP、一人当たりGDP、寿命、人口をデータフレームとしてまとめたものです。このデータは、[Gapminder Foundation](https://www.gapminder.org/)（スウェーデンのNPO、所得格差の認知を推進する活動を行っている）が提供しているデータです。このデータも、Rでのグラフ作成の例でよく用いられているものです。Rでは、gapminderパッケージにデータセットが含まれています。\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(gapminder::gapminder)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 x 6\n  country     continent  year lifeExp      pop gdpPercap\n  <fct>       <fct>     <int>   <dbl>    <int>     <dbl>\n1 Afghanistan Asia       1952    28.8  8425333      779.\n2 Afghanistan Asia       1957    30.3  9240934      821.\n3 Afghanistan Asia       1962    32.0 10267083      853.\n4 Afghanistan Asia       1967    34.0 11537966      836.\n5 Afghanistan Asia       1972    36.1 13079460      740.\n6 Afghanistan Asia       1977    38.4 14880372      786.\n```\n:::\n:::\n",
    "supporting": [
      "chapter14_files\\figure-pdf"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}