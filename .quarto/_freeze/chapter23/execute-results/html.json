{
  "hash": "e8c6849ba4521d4a535e4178d2a5cadc",
  "result": {
    "engine": "knitr",
    "markdown": "# plotly\n\n## インタラクティブなグラフ\n\nRでインタラクティブなグラフを作成したい場合には、[rgl](https://dmurdoch.github.io/rgl/)パッケージ[@rgl_bib]や、Javascriptのインタラクティブグラフィックライブラリである[d3.js](https://d3js.org/)を使用したライブラリである[r2d3](https://rstudio.github.io/r2d3/) [@r2d3_bib]を用いるなど、様々な方法があります。\n\nこのようなインタラクティブなグラフ作成パッケージの中では、[plotly](https://plotly.com/graphing-libraries/) [@plotly_bib]が機能が多彩かつ記述の方法もシンプルで非常に分かりやすい優れたライブラリです。\n\n\n::: {.cell filename='plotlyライブラリのロード'}\n\n```{.r .cell-code}\npacman::p_load(plotly)\n```\n:::\n\n\n:::{.callout-tip collapse=true}\n\n## インタラクティブなグラフとR\n\n以前はRでインタラクティブなグラフを作成しても、Rが実行されているPC上でのみ確認ができただけで、他の人とグラフを共有するすべがほとんどありませんでした。しかし、ここ10年で、Rを用いてHTMLの文書を作成するライブラリ（[RMarkdown](https://rmarkdown.rstudio.com/) [@rmarkdown_bib1; @rmarkdown_bib2; @rmarkdown_bib3]、[Quarto](https://quarto.org/)）や、Webアプリケーションを作成するためのライブラリ（[Shiny](https://shiny.posit.co/)）[@shiny_bib]が公開され、インタラクティブなグラフを共有するしくみが構築されました。\n\nWeb上でのインタラクティブなグラフの多くは[d3.js](https://d3js.org/)で構築されていると思います。しかし、d3.jsの記法はやや特殊で、Rユーザーが使いこなすのはやや難しいです。`plotly`は主にPythonのライブラリとして開発されていますが、Rやほかの言語での開発も行われています。記法も`ggplot2`やRのデフォルトのグラフィック関数に近く、Rユーザーにも使いやすいものとなっています。\n\nインタラクティブなグラフの使いどころは難しいですが、有効に用いれば、データを確認しやすく、見る人の興味を引くグラフを作成することができます。\n\n:::\n\n## 散布図\n\n`plotly`では、グラフは`plot_ly`関数で描画します。`plot_ly`関数の引数としてグラフのタイプ（`type`）を指定しない場合には、`x`や`y`軸に指定した値に対応したグラフを描画してくれます。`x`にも`y`にも数値を指定すれば、散布図が自動的に選択されて、描画されます。`x`や`y`などの、`ggplot2`での`aes`にあたる要素の指定では、データフレームの列名にチルダ（`~`）を付けます。チルダがないと、列名をうまく読み込むことはできません。\n\n\n::: {.cell filename='plot_ly関数で散布図'}\n\n```{.r .cell-code}\nplot_ly(data = iris, x = ~Sepal.Length, y = ~Sepal.Width, color = ~Species)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-f17f99804314640e69ed\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-f17f99804314640e69ed\">{\"x\":{\"visdat\":{\"5e1c55334173\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"5e1c55334173\",\"attrs\":{\"5e1c55334173\":{\"x\":{},\"y\":{},\"color\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20]}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Sepal.Length\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Sepal.Width\"},\"hovermode\":\"closest\",\"showlegend\":true},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"x\":[5.0999999999999996,4.9000000000000004,4.7000000000000002,4.5999999999999996,5,5.4000000000000004,4.5999999999999996,5,4.4000000000000004,4.9000000000000004,5.4000000000000004,4.7999999999999998,4.7999999999999998,4.2999999999999998,5.7999999999999998,5.7000000000000002,5.4000000000000004,5.0999999999999996,5.7000000000000002,5.0999999999999996,5.4000000000000004,5.0999999999999996,4.5999999999999996,5.0999999999999996,4.7999999999999998,5,5,5.2000000000000002,5.2000000000000002,4.7000000000000002,4.7999999999999998,5.4000000000000004,5.2000000000000002,5.5,4.9000000000000004,5,5.5,4.9000000000000004,4.4000000000000004,5.0999999999999996,5,4.5,4.4000000000000004,5,5.0999999999999996,4.7999999999999998,5.0999999999999996,4.5999999999999996,5.2999999999999998,5],\"y\":[3.5,3,3.2000000000000002,3.1000000000000001,3.6000000000000001,3.8999999999999999,3.3999999999999999,3.3999999999999999,2.8999999999999999,3.1000000000000001,3.7000000000000002,3.3999999999999999,3,3,4,4.4000000000000004,3.8999999999999999,3.5,3.7999999999999998,3.7999999999999998,3.3999999999999999,3.7000000000000002,3.6000000000000001,3.2999999999999998,3.3999999999999999,3,3.3999999999999999,3.5,3.3999999999999999,3.2000000000000002,3.1000000000000001,3.3999999999999999,4.0999999999999996,4.2000000000000002,3.1000000000000001,3.2000000000000002,3.5,3.6000000000000001,3,3.3999999999999999,3.5,2.2999999999999998,3.2000000000000002,3.5,3.7999999999999998,3,3.7999999999999998,3.2000000000000002,3.7000000000000002,3.2999999999999998],\"type\":\"scatter\",\"mode\":\"markers\",\"name\":\"setosa\",\"marker\":{\"color\":\"rgba(102,194,165,1)\",\"line\":{\"color\":\"rgba(102,194,165,1)\"}},\"textfont\":{\"color\":\"rgba(102,194,165,1)\"},\"error_y\":{\"color\":\"rgba(102,194,165,1)\"},\"error_x\":{\"color\":\"rgba(102,194,165,1)\"},\"line\":{\"color\":\"rgba(102,194,165,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[7,6.4000000000000004,6.9000000000000004,5.5,6.5,5.7000000000000002,6.2999999999999998,4.9000000000000004,6.5999999999999996,5.2000000000000002,5,5.9000000000000004,6,6.0999999999999996,5.5999999999999996,6.7000000000000002,5.5999999999999996,5.7999999999999998,6.2000000000000002,5.5999999999999996,5.9000000000000004,6.0999999999999996,6.2999999999999998,6.0999999999999996,6.4000000000000004,6.5999999999999996,6.7999999999999998,6.7000000000000002,6,5.7000000000000002,5.5,5.5,5.7999999999999998,6,5.4000000000000004,6,6.7000000000000002,6.2999999999999998,5.5999999999999996,5.5,5.5,6.0999999999999996,5.7999999999999998,5,5.5999999999999996,5.7000000000000002,5.7000000000000002,6.2000000000000002,5.0999999999999996,5.7000000000000002],\"y\":[3.2000000000000002,3.2000000000000002,3.1000000000000001,2.2999999999999998,2.7999999999999998,2.7999999999999998,3.2999999999999998,2.3999999999999999,2.8999999999999999,2.7000000000000002,2,3,2.2000000000000002,2.8999999999999999,2.8999999999999999,3.1000000000000001,3,2.7000000000000002,2.2000000000000002,2.5,3.2000000000000002,2.7999999999999998,2.5,2.7999999999999998,2.8999999999999999,3,2.7999999999999998,3,2.8999999999999999,2.6000000000000001,2.3999999999999999,2.3999999999999999,2.7000000000000002,2.7000000000000002,3,3.3999999999999999,3.1000000000000001,2.2999999999999998,3,2.5,2.6000000000000001,3,2.6000000000000001,2.2999999999999998,2.7000000000000002,3,2.8999999999999999,2.8999999999999999,2.5,2.7999999999999998],\"type\":\"scatter\",\"mode\":\"markers\",\"name\":\"versicolor\",\"marker\":{\"color\":\"rgba(252,141,98,1)\",\"line\":{\"color\":\"rgba(252,141,98,1)\"}},\"textfont\":{\"color\":\"rgba(252,141,98,1)\"},\"error_y\":{\"color\":\"rgba(252,141,98,1)\"},\"error_x\":{\"color\":\"rgba(252,141,98,1)\"},\"line\":{\"color\":\"rgba(252,141,98,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[6.2999999999999998,5.7999999999999998,7.0999999999999996,6.2999999999999998,6.5,7.5999999999999996,4.9000000000000004,7.2999999999999998,6.7000000000000002,7.2000000000000002,6.5,6.4000000000000004,6.7999999999999998,5.7000000000000002,5.7999999999999998,6.4000000000000004,6.5,7.7000000000000002,7.7000000000000002,6,6.9000000000000004,5.5999999999999996,7.7000000000000002,6.2999999999999998,6.7000000000000002,7.2000000000000002,6.2000000000000002,6.0999999999999996,6.4000000000000004,7.2000000000000002,7.4000000000000004,7.9000000000000004,6.4000000000000004,6.2999999999999998,6.0999999999999996,7.7000000000000002,6.2999999999999998,6.4000000000000004,6,6.9000000000000004,6.7000000000000002,6.9000000000000004,5.7999999999999998,6.7999999999999998,6.7000000000000002,6.7000000000000002,6.2999999999999998,6.5,6.2000000000000002,5.9000000000000004],\"y\":[3.2999999999999998,2.7000000000000002,3,2.8999999999999999,3,3,2.5,2.8999999999999999,2.5,3.6000000000000001,3.2000000000000002,2.7000000000000002,3,2.5,2.7999999999999998,3.2000000000000002,3,3.7999999999999998,2.6000000000000001,2.2000000000000002,3.2000000000000002,2.7999999999999998,2.7999999999999998,2.7000000000000002,3.2999999999999998,3.2000000000000002,2.7999999999999998,3,2.7999999999999998,3,2.7999999999999998,3.7999999999999998,2.7999999999999998,2.7999999999999998,2.6000000000000001,3,3.3999999999999999,3.1000000000000001,3,3.1000000000000001,3.1000000000000001,3.1000000000000001,2.7000000000000002,3.2000000000000002,3.2999999999999998,3,2.5,3,3.3999999999999999,3],\"type\":\"scatter\",\"mode\":\"markers\",\"name\":\"virginica\",\"marker\":{\"color\":\"rgba(141,160,203,1)\",\"line\":{\"color\":\"rgba(141,160,203,1)\"}},\"textfont\":{\"color\":\"rgba(141,160,203,1)\"},\"error_y\":{\"color\":\"rgba(141,160,203,1)\"},\"error_x\":{\"color\":\"rgba(141,160,203,1)\"},\"line\":{\"color\":\"rgba(141,160,203,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n`ggplot2`と同様に、`color`や`size`などの引数に数値を取ることで、バブルチャートなどのグラフを作成することもできます。\n\n\n::: {.cell filename='plot_ly関数でバブルチャート'}\n\n```{.r .cell-code}\niris |> \n  plot_ly(x = ~Sepal.Length, y = ~Sepal.Width, color = ~Petal.Length, size = ~Petal.Width)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-3e879cde2a2ba104325c\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-3e879cde2a2ba104325c\">{\"x\":{\"visdat\":{\"5e1c6024219d\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"5e1c6024219d\",\"attrs\":{\"5e1c6024219d\":{\"x\":{},\"y\":{},\"color\":{},\"size\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20]}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Sepal.Length\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Sepal.Width\"},\"hovermode\":\"closest\",\"showlegend\":false,\"legend\":{\"yanchor\":\"top\",\"y\":0.5}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"x\":[5.0999999999999996,4.9000000000000004,4.7000000000000002,4.5999999999999996,5,5.4000000000000004,4.5999999999999996,5,4.4000000000000004,4.9000000000000004,5.4000000000000004,4.7999999999999998,4.7999999999999998,4.2999999999999998,5.7999999999999998,5.7000000000000002,5.4000000000000004,5.0999999999999996,5.7000000000000002,5.0999999999999996,5.4000000000000004,5.0999999999999996,4.5999999999999996,5.0999999999999996,4.7999999999999998,5,5,5.2000000000000002,5.2000000000000002,4.7000000000000002,4.7999999999999998,5.4000000000000004,5.2000000000000002,5.5,4.9000000000000004,5,5.5,4.9000000000000004,4.4000000000000004,5.0999999999999996,5,4.5,4.4000000000000004,5,5.0999999999999996,4.7999999999999998,5.0999999999999996,4.5999999999999996,5.2999999999999998,5,7,6.4000000000000004,6.9000000000000004,5.5,6.5,5.7000000000000002,6.2999999999999998,4.9000000000000004,6.5999999999999996,5.2000000000000002,5,5.9000000000000004,6,6.0999999999999996,5.5999999999999996,6.7000000000000002,5.5999999999999996,5.7999999999999998,6.2000000000000002,5.5999999999999996,5.9000000000000004,6.0999999999999996,6.2999999999999998,6.0999999999999996,6.4000000000000004,6.5999999999999996,6.7999999999999998,6.7000000000000002,6,5.7000000000000002,5.5,5.5,5.7999999999999998,6,5.4000000000000004,6,6.7000000000000002,6.2999999999999998,5.5999999999999996,5.5,5.5,6.0999999999999996,5.7999999999999998,5,5.5999999999999996,5.7000000000000002,5.7000000000000002,6.2000000000000002,5.0999999999999996,5.7000000000000002,6.2999999999999998,5.7999999999999998,7.0999999999999996,6.2999999999999998,6.5,7.5999999999999996,4.9000000000000004,7.2999999999999998,6.7000000000000002,7.2000000000000002,6.5,6.4000000000000004,6.7999999999999998,5.7000000000000002,5.7999999999999998,6.4000000000000004,6.5,7.7000000000000002,7.7000000000000002,6,6.9000000000000004,5.5999999999999996,7.7000000000000002,6.2999999999999998,6.7000000000000002,7.2000000000000002,6.2000000000000002,6.0999999999999996,6.4000000000000004,7.2000000000000002,7.4000000000000004,7.9000000000000004,6.4000000000000004,6.2999999999999998,6.0999999999999996,7.7000000000000002,6.2999999999999998,6.4000000000000004,6,6.9000000000000004,6.7000000000000002,6.9000000000000004,5.7999999999999998,6.7999999999999998,6.7000000000000002,6.7000000000000002,6.2999999999999998,6.5,6.2000000000000002,5.9000000000000004],\"y\":[3.5,3,3.2000000000000002,3.1000000000000001,3.6000000000000001,3.8999999999999999,3.3999999999999999,3.3999999999999999,2.8999999999999999,3.1000000000000001,3.7000000000000002,3.3999999999999999,3,3,4,4.4000000000000004,3.8999999999999999,3.5,3.7999999999999998,3.7999999999999998,3.3999999999999999,3.7000000000000002,3.6000000000000001,3.2999999999999998,3.3999999999999999,3,3.3999999999999999,3.5,3.3999999999999999,3.2000000000000002,3.1000000000000001,3.3999999999999999,4.0999999999999996,4.2000000000000002,3.1000000000000001,3.2000000000000002,3.5,3.6000000000000001,3,3.3999999999999999,3.5,2.2999999999999998,3.2000000000000002,3.5,3.7999999999999998,3,3.7999999999999998,3.2000000000000002,3.7000000000000002,3.2999999999999998,3.2000000000000002,3.2000000000000002,3.1000000000000001,2.2999999999999998,2.7999999999999998,2.7999999999999998,3.2999999999999998,2.3999999999999999,2.8999999999999999,2.7000000000000002,2,3,2.2000000000000002,2.8999999999999999,2.8999999999999999,3.1000000000000001,3,2.7000000000000002,2.2000000000000002,2.5,3.2000000000000002,2.7999999999999998,2.5,2.7999999999999998,2.8999999999999999,3,2.7999999999999998,3,2.8999999999999999,2.6000000000000001,2.3999999999999999,2.3999999999999999,2.7000000000000002,2.7000000000000002,3,3.3999999999999999,3.1000000000000001,2.2999999999999998,3,2.5,2.6000000000000001,3,2.6000000000000001,2.2999999999999998,2.7000000000000002,3,2.8999999999999999,2.8999999999999999,2.5,2.7999999999999998,3.2999999999999998,2.7000000000000002,3,2.8999999999999999,3,3,2.5,2.8999999999999999,2.5,3.6000000000000001,3.2000000000000002,2.7000000000000002,3,2.5,2.7999999999999998,3.2000000000000002,3,3.7999999999999998,2.6000000000000001,2.2000000000000002,3.2000000000000002,2.7999999999999998,2.7999999999999998,2.7000000000000002,3.2999999999999998,3.2000000000000002,2.7999999999999998,3,2.7999999999999998,3,2.7999999999999998,3.7999999999999998,2.7999999999999998,2.7999999999999998,2.6000000000000001,3,3.3999999999999999,3.1000000000000001,3,3.1000000000000001,3.1000000000000001,3.1000000000000001,2.7000000000000002,3.2000000000000002,3.2999999999999998,3,2.5,3,3.3999999999999999,3],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"colorbar\":{\"title\":\"Petal.Length\",\"ticklen\":2},\"cmin\":1,\"cmax\":6.9000000000000004,\"colorscale\":[[\"0\",\"rgba(68,1,84,1)\"],[\"0.0416666666666667\",\"rgba(70,19,97,1)\"],[\"0.0833333333333333\",\"rgba(72,32,111,1)\"],[\"0.125\",\"rgba(71,45,122,1)\"],[\"0.166666666666667\",\"rgba(68,58,128,1)\"],[\"0.208333333333333\",\"rgba(64,70,135,1)\"],[\"0.25\",\"rgba(60,82,138,1)\"],[\"0.291666666666667\",\"rgba(56,93,140,1)\"],[\"0.333333333333333\",\"rgba(49,104,142,1)\"],[\"0.375\",\"rgba(46,114,142,1)\"],[\"0.416666666666667\",\"rgba(42,123,142,1)\"],[\"0.458333333333333\",\"rgba(38,133,141,1)\"],[\"0.5\",\"rgba(37,144,140,1)\"],[\"0.541666666666667\",\"rgba(33,154,138,1)\"],[\"0.583333333333333\",\"rgba(39,164,133,1)\"],[\"0.625\",\"rgba(47,174,127,1)\"],[\"0.666666666666667\",\"rgba(53,183,121,1)\"],[\"0.708333333333333\",\"rgba(79,191,110,1)\"],[\"0.75\",\"rgba(98,199,98,1)\"],[\"0.791666666666667\",\"rgba(119,207,85,1)\"],[\"0.833333333333333\",\"rgba(147,214,70,1)\"],[\"0.875\",\"rgba(172,220,52,1)\"],[\"0.916666666666667\",\"rgba(199,225,42,1)\"],[\"0.958333333333333\",\"rgba(226,228,40,1)\"],[\"1\",\"rgba(253,231,37,1)\"]],\"showscale\":false,\"color\":[1.3999999999999999,1.3999999999999999,1.3,1.5,1.3999999999999999,1.7,1.3999999999999999,1.5,1.3999999999999999,1.5,1.5,1.6000000000000001,1.3999999999999999,1.1000000000000001,1.2,1.5,1.3,1.3999999999999999,1.7,1.5,1.7,1.5,1,1.7,1.8999999999999999,1.6000000000000001,1.6000000000000001,1.5,1.3999999999999999,1.6000000000000001,1.6000000000000001,1.5,1.5,1.3999999999999999,1.5,1.2,1.3,1.3999999999999999,1.3,1.5,1.3,1.3,1.3,1.6000000000000001,1.8999999999999999,1.3999999999999999,1.6000000000000001,1.3999999999999999,1.5,1.3999999999999999,4.7000000000000002,4.5,4.9000000000000004,4,4.5999999999999996,4.5,4.7000000000000002,3.2999999999999998,4.5999999999999996,3.8999999999999999,3.5,4.2000000000000002,4,4.7000000000000002,3.6000000000000001,4.4000000000000004,4.5,4.0999999999999996,4.5,3.8999999999999999,4.7999999999999998,4,4.9000000000000004,4.7000000000000002,4.2999999999999998,4.4000000000000004,4.7999999999999998,5,4.5,3.5,3.7999999999999998,3.7000000000000002,3.8999999999999999,5.0999999999999996,4.5,4.5,4.7000000000000002,4.4000000000000004,4.0999999999999996,4,4.4000000000000004,4.5999999999999996,4,3.2999999999999998,4.2000000000000002,4.2000000000000002,4.2000000000000002,4.2999999999999998,3,4.0999999999999996,6,5.0999999999999996,5.9000000000000004,5.5999999999999996,5.7999999999999998,6.5999999999999996,4.5,6.2999999999999998,5.7999999999999998,6.0999999999999996,5.0999999999999996,5.2999999999999998,5.5,5,5.0999999999999996,5.2999999999999998,5.5,6.7000000000000002,6.9000000000000004,5,5.7000000000000002,4.9000000000000004,6.7000000000000002,4.9000000000000004,5.7000000000000002,6,4.7999999999999998,4.9000000000000004,5.5999999999999996,5.7999999999999998,6.0999999999999996,6.4000000000000004,5.5999999999999996,5.0999999999999996,5.5999999999999996,6.0999999999999996,5.5999999999999996,5.5,4.7999999999999998,5.4000000000000004,5.5999999999999996,5.0999999999999996,5.0999999999999996,5.9000000000000004,5.7000000000000002,5.2000000000000002,5,5.2000000000000002,5.4000000000000004,5.0999999999999996],\"size\":[13.75,13.75,13.75,13.75,13.75,21.25,17.5,13.75,13.75,10,13.75,13.75,10,10,13.75,21.25,21.25,17.5,17.5,17.5,13.75,21.25,13.75,25,13.75,13.75,21.25,13.75,13.75,13.75,13.75,21.25,10,13.75,13.75,13.75,13.75,10,13.75,13.75,17.5,17.5,13.75,28.75,21.25,17.5,13.75,13.75,13.75,13.75,58.75,62.5,62.5,55,62.5,55,66.25,43.75,55,58.75,43.75,62.5,43.75,58.75,55,58.75,62.5,43.75,62.5,47.5,73.75,55,62.5,51.25,55,58.75,58.75,70,62.5,43.75,47.5,43.75,51.25,66.25,62.5,66.25,62.5,55,55,55,51.25,58.75,51.25,43.75,55,51.25,55,55,47.5,55,100,77.5,85,73.75,88.750000000000014,85,70,73.75,73.75,100,81.25,77.5,85,81.25,96.25,92.5,73.75,88.750000000000014,92.5,62.5,92.5,81.25,81.25,73.75,85,73.75,73.75,73.75,85,66.25,77.5,81.25,88.750000000000014,62.5,58.75,92.5,96.25,73.75,73.75,85,96.25,92.5,77.5,92.5,100,92.5,77.5,81.25,92.5,73.75],\"sizemode\":\"area\",\"line\":{\"colorbar\":{\"title\":\"\",\"ticklen\":2},\"cmin\":1,\"cmax\":6.9000000000000004,\"colorscale\":[[\"0\",\"rgba(68,1,84,1)\"],[\"0.0416666666666667\",\"rgba(70,19,97,1)\"],[\"0.0833333333333333\",\"rgba(72,32,111,1)\"],[\"0.125\",\"rgba(71,45,122,1)\"],[\"0.166666666666667\",\"rgba(68,58,128,1)\"],[\"0.208333333333333\",\"rgba(64,70,135,1)\"],[\"0.25\",\"rgba(60,82,138,1)\"],[\"0.291666666666667\",\"rgba(56,93,140,1)\"],[\"0.333333333333333\",\"rgba(49,104,142,1)\"],[\"0.375\",\"rgba(46,114,142,1)\"],[\"0.416666666666667\",\"rgba(42,123,142,1)\"],[\"0.458333333333333\",\"rgba(38,133,141,1)\"],[\"0.5\",\"rgba(37,144,140,1)\"],[\"0.541666666666667\",\"rgba(33,154,138,1)\"],[\"0.583333333333333\",\"rgba(39,164,133,1)\"],[\"0.625\",\"rgba(47,174,127,1)\"],[\"0.666666666666667\",\"rgba(53,183,121,1)\"],[\"0.708333333333333\",\"rgba(79,191,110,1)\"],[\"0.75\",\"rgba(98,199,98,1)\"],[\"0.791666666666667\",\"rgba(119,207,85,1)\"],[\"0.833333333333333\",\"rgba(147,214,70,1)\"],[\"0.875\",\"rgba(172,220,52,1)\"],[\"0.916666666666667\",\"rgba(199,225,42,1)\"],[\"0.958333333333333\",\"rgba(226,228,40,1)\"],[\"1\",\"rgba(253,231,37,1)\"]],\"showscale\":false,\"color\":[1.3999999999999999,1.3999999999999999,1.3,1.5,1.3999999999999999,1.7,1.3999999999999999,1.5,1.3999999999999999,1.5,1.5,1.6000000000000001,1.3999999999999999,1.1000000000000001,1.2,1.5,1.3,1.3999999999999999,1.7,1.5,1.7,1.5,1,1.7,1.8999999999999999,1.6000000000000001,1.6000000000000001,1.5,1.3999999999999999,1.6000000000000001,1.6000000000000001,1.5,1.5,1.3999999999999999,1.5,1.2,1.3,1.3999999999999999,1.3,1.5,1.3,1.3,1.3,1.6000000000000001,1.8999999999999999,1.3999999999999999,1.6000000000000001,1.3999999999999999,1.5,1.3999999999999999,4.7000000000000002,4.5,4.9000000000000004,4,4.5999999999999996,4.5,4.7000000000000002,3.2999999999999998,4.5999999999999996,3.8999999999999999,3.5,4.2000000000000002,4,4.7000000000000002,3.6000000000000001,4.4000000000000004,4.5,4.0999999999999996,4.5,3.8999999999999999,4.7999999999999998,4,4.9000000000000004,4.7000000000000002,4.2999999999999998,4.4000000000000004,4.7999999999999998,5,4.5,3.5,3.7999999999999998,3.7000000000000002,3.8999999999999999,5.0999999999999996,4.5,4.5,4.7000000000000002,4.4000000000000004,4.0999999999999996,4,4.4000000000000004,4.5999999999999996,4,3.2999999999999998,4.2000000000000002,4.2000000000000002,4.2000000000000002,4.2999999999999998,3,4.0999999999999996,6,5.0999999999999996,5.9000000000000004,5.5999999999999996,5.7999999999999998,6.5999999999999996,4.5,6.2999999999999998,5.7999999999999998,6.0999999999999996,5.0999999999999996,5.2999999999999998,5.5,5,5.0999999999999996,5.2999999999999998,5.5,6.7000000000000002,6.9000000000000004,5,5.7000000000000002,4.9000000000000004,6.7000000000000002,4.9000000000000004,5.7000000000000002,6,4.7999999999999998,4.9000000000000004,5.5999999999999996,5.7999999999999998,6.0999999999999996,6.4000000000000004,5.5999999999999996,5.0999999999999996,5.5999999999999996,6.0999999999999996,5.5999999999999996,5.5,4.7999999999999998,5.4000000000000004,5.5999999999999996,5.0999999999999996,5.0999999999999996,5.9000000000000004,5.7000000000000002,5.2000000000000002,5,5.2000000000000002,5.4000000000000004,5.0999999999999996]}},\"textfont\":{\"size\":[13.75,13.75,13.75,13.75,13.75,21.25,17.5,13.75,13.75,10,13.75,13.75,10,10,13.75,21.25,21.25,17.5,17.5,17.5,13.75,21.25,13.75,25,13.75,13.75,21.25,13.75,13.75,13.75,13.75,21.25,10,13.75,13.75,13.75,13.75,10,13.75,13.75,17.5,17.5,13.75,28.75,21.25,17.5,13.75,13.75,13.75,13.75,58.75,62.5,62.5,55,62.5,55,66.25,43.75,55,58.75,43.75,62.5,43.75,58.75,55,58.75,62.5,43.75,62.5,47.5,73.75,55,62.5,51.25,55,58.75,58.75,70,62.5,43.75,47.5,43.75,51.25,66.25,62.5,66.25,62.5,55,55,55,51.25,58.75,51.25,43.75,55,51.25,55,55,47.5,55,100,77.5,85,73.75,88.750000000000014,85,70,73.75,73.75,100,81.25,77.5,85,81.25,96.25,92.5,73.75,88.750000000000014,92.5,62.5,92.5,81.25,81.25,73.75,85,73.75,73.75,73.75,85,66.25,77.5,81.25,88.750000000000014,62.5,58.75,92.5,96.25,73.75,73.75,85,96.25,92.5,77.5,92.5,100,92.5,77.5,81.25,92.5,73.75]},\"error_y\":{\"width\":[]},\"error_x\":{\"width\":[]},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[4.2999999999999998,7.9000000000000004],\"y\":[2,4.4000000000000004],\"type\":\"scatter\",\"mode\":\"markers\",\"opacity\":0,\"hoverinfo\":\"none\",\"showlegend\":false,\"marker\":{\"colorbar\":{\"title\":\"Petal.Length\",\"ticklen\":2,\"len\":0.5,\"lenmode\":\"fraction\",\"y\":1,\"yanchor\":\"top\"},\"cmin\":1,\"cmax\":6.9000000000000004,\"colorscale\":[[\"0\",\"rgba(68,1,84,1)\"],[\"0.0416666666666667\",\"rgba(70,19,97,1)\"],[\"0.0833333333333333\",\"rgba(72,32,111,1)\"],[\"0.125\",\"rgba(71,45,122,1)\"],[\"0.166666666666667\",\"rgba(68,58,128,1)\"],[\"0.208333333333333\",\"rgba(64,70,135,1)\"],[\"0.25\",\"rgba(60,82,138,1)\"],[\"0.291666666666667\",\"rgba(56,93,140,1)\"],[\"0.333333333333333\",\"rgba(49,104,142,1)\"],[\"0.375\",\"rgba(46,114,142,1)\"],[\"0.416666666666667\",\"rgba(42,123,142,1)\"],[\"0.458333333333333\",\"rgba(38,133,141,1)\"],[\"0.5\",\"rgba(37,144,140,1)\"],[\"0.541666666666667\",\"rgba(33,154,138,1)\"],[\"0.583333333333333\",\"rgba(39,164,133,1)\"],[\"0.625\",\"rgba(47,174,127,1)\"],[\"0.666666666666667\",\"rgba(53,183,121,1)\"],[\"0.708333333333333\",\"rgba(79,191,110,1)\"],[\"0.75\",\"rgba(98,199,98,1)\"],[\"0.791666666666667\",\"rgba(119,207,85,1)\"],[\"0.833333333333333\",\"rgba(147,214,70,1)\"],[\"0.875\",\"rgba(172,220,52,1)\"],[\"0.916666666666667\",\"rgba(199,225,42,1)\"],[\"0.958333333333333\",\"rgba(226,228,40,1)\"],[\"1\",\"rgba(253,231,37,1)\"]],\"showscale\":true,\"color\":[1,6.9000000000000004],\"line\":{\"color\":\"rgba(255,127,14,1)\"}},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n`ggplot2`での`scale_color_brewer`のように、Color Brewerを用いた色の指定も行うことができます。配色の指定には`colors`という引数を用います。\n\n\n::: {.cell filename='ColorBrewerの色指定'}\n\n```{.r .cell-code}\ndiamonds[sample(1:nrow(diamonds), 500),] |> \n  plot_ly(data = _, x = ~carat, y = ~price, color = ~carat, colors = \"RdYlGn\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-3598e29d9c15009565e7\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-3598e29d9c15009565e7\">{\"x\":{\"visdat\":{\"5e1c7f076e1b\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"5e1c7f076e1b\",\"attrs\":{\"5e1c7f076e1b\":{\"x\":{},\"y\":{},\"color\":{},\"colors\":\"RdYlGn\",\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20]}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"carat\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"price\"},\"hovermode\":\"closest\",\"showlegend\":false,\"legend\":{\"yanchor\":\"top\",\"y\":0.5}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"x\":[1.23,1.22,1,0.32000000000000001,0.69999999999999996,1.1299999999999999,0.41999999999999998,1.1699999999999999,1.1299999999999999,0.52000000000000002,0.29999999999999999,1.01,0.81999999999999995,0.56000000000000005,0.94999999999999996,1,0.71999999999999997,1.1499999999999999,1.24,1.0900000000000001,0.69999999999999996,1.7,1.27,0.37,0.54000000000000004,1.02,1.0700000000000001,0.90000000000000002,0.33000000000000002,0.34999999999999998,1.51,0.33000000000000002,1.03,0.71999999999999997,0.32000000000000001,1.01,1.01,1.2,0.81999999999999995,0.51000000000000001,1.51,0.39000000000000001,1.0800000000000001,0.90000000000000002,0.42999999999999999,1.3,1.2,0.32000000000000001,0.62,0.65000000000000002,1.9299999999999999,0.33000000000000002,0.56999999999999995,0.40999999999999998,0.56000000000000005,0.41999999999999998,0.25,2.0099999999999998,0.80000000000000004,1.03,0.65000000000000002,0.33000000000000002,1.2,0.29999999999999999,0.29999999999999999,0.66000000000000003,1.05,0.73999999999999999,1.7,1.1599999999999999,0.37,1.7,1.24,0.92000000000000004,0.32000000000000001,1,1.5,0.41999999999999998,0.31,0.34999999999999998,1.1200000000000001,0.60999999999999999,1.72,1.0800000000000001,0.56000000000000005,0.32000000000000001,0.34999999999999998,0.40000000000000002,0.90000000000000002,0.54000000000000004,0.71999999999999997,0.41999999999999998,0.29999999999999999,0.29999999999999999,0.77000000000000002,0.51000000000000001,2,0.29999999999999999,0.90000000000000002,1.49,0.70999999999999996,0.78000000000000003,0.29999999999999999,1.02,0.31,0.33000000000000002,1.51,0.31,0.35999999999999999,1.1399999999999999,1,0.29999999999999999,0.69999999999999996,2.0899999999999999,0.20999999999999999,1.3200000000000001,2.1099999999999999,0.41999999999999998,0.55000000000000004,0.47999999999999998,0.52000000000000002,0.40000000000000002,0.40999999999999998,0.69999999999999996,0.42999999999999999,0.29999999999999999,1.05,0.34000000000000002,0.32000000000000001,1.01,1.54,0.69999999999999996,0.25,0.69999999999999996,0.90000000000000002,0.40000000000000002,0.31,0.29999999999999999,0.35999999999999999,1.24,2.1800000000000002,0.34999999999999998,0.71999999999999997,0.54000000000000004,1.3100000000000001,0.41999999999999998,1.1499999999999999,0.34999999999999998,0.78000000000000003,0.33000000000000002,0.31,0.54000000000000004,0.40000000000000002,1.04,1.02,1.7,0.71999999999999997,0.53000000000000003,0.53000000000000003,1.1000000000000001,1.24,1.0600000000000001,0.70999999999999996,0.29999999999999999,0.34000000000000002,0.46000000000000002,0.29999999999999999,0.81000000000000005,0.5,0.42999999999999999,0.54000000000000004,0.33000000000000002,0.23999999999999999,1.71,1.3,2.3700000000000001,2.1899999999999999,0.31,1.01,0.29999999999999999,1.54,2.02,0.31,0.29999999999999999,1.22,0.90000000000000002,0.90000000000000002,0.90000000000000002,0.38,1.04,0.40999999999999998,1.3400000000000001,0.40999999999999998,0.69999999999999996,0.57999999999999996,0.29999999999999999,0.54000000000000004,1.28,0.28999999999999998,0.92000000000000004,1.22,0.57999999999999996,0.35999999999999999,0.31,0.29999999999999999,1.1799999999999999,2.0099999999999998,1,0.23999999999999999,0.40999999999999998,0.51000000000000001,0.31,2.0099999999999998,0.32000000000000001,0.34999999999999998,2.02,0.60999999999999999,0.65000000000000002,0.33000000000000002,0.90000000000000002,0.92000000000000004,0.62,0.69999999999999996,2.0099999999999998,0.39000000000000001,1.01,2.0299999999999998,1.01,1.1599999999999999,0.5,0.29999999999999999,0.41999999999999998,2.2799999999999998,1.1499999999999999,0.56999999999999995,0.40000000000000002,1.7,0.69999999999999996,0.76000000000000001,0.32000000000000001,0.75,0.40999999999999998,0.90000000000000002,0.55000000000000004,1.04,0.60999999999999999,1.1200000000000001,0.31,1.03,0.51000000000000001,0.33000000000000002,1.1599999999999999,0.34000000000000002,0.53000000000000003,0.42999999999999999,1.1299999999999999,0.70999999999999996,1.03,0.51000000000000001,1,1,0.40999999999999998,0.31,0.42999999999999999,1,0.31,0.5,1.0900000000000001,0.57999999999999996,0.40999999999999998,0.37,1,0.42999999999999999,0.28999999999999998,1.02,0.77000000000000002,0.60999999999999999,0.32000000000000001,0.44,0.75,1.0900000000000001,1.1299999999999999,0.31,0.40000000000000002,0.52000000000000002,0.97999999999999998,1,0.35999999999999999,1.5,1.7,1.52,0.84999999999999998,1.1100000000000001,0.80000000000000004,0.29999999999999999,0.90000000000000002,0.55000000000000004,0.35999999999999999,0.69999999999999996,0.51000000000000001,1.21,0.40999999999999998,0.51000000000000001,0.34000000000000002,0.71999999999999997,1.51,0.56999999999999995,1,0.98999999999999999,1.2,0.55000000000000004,1.6000000000000001,0.55000000000000004,0.5,1.21,0.69999999999999996,0.34000000000000002,0.53000000000000003,0.42999999999999999,1,0.70999999999999996,0.41999999999999998,0.31,1.1599999999999999,0.92000000000000004,1,0.32000000000000001,1.05,1.78,1.24,0.40000000000000002,2.0299999999999998,1.54,0.82999999999999996,1,2.2799999999999998,1.25,0.70999999999999996,0.56999999999999995,0.90000000000000002,1.02,0.31,0.29999999999999999,1.02,0.93000000000000005,2,1.0900000000000001,0.29999999999999999,2.0099999999999998,0.39000000000000001,1.3100000000000001,0.39000000000000001,0.5,1.1799999999999999,0.33000000000000002,1.0900000000000001,1.02,0.31,0.34000000000000002,0.69999999999999996,1.1200000000000001,0.58999999999999997,1.0700000000000001,1.25,2.3199999999999998,1.51,1.0700000000000001,0.32000000000000001,1.1299999999999999,1.21,0.69999999999999996,0.40999999999999998,0.40999999999999998,1.5800000000000001,0.70999999999999996,0.31,2.02,0.38,1.1499999999999999,0.40999999999999998,0.92000000000000004,0.55000000000000004,0.40999999999999998,1.29,1.02,1.25,1.05,0.29999999999999999,0.29999999999999999,2,0.40999999999999998,1.51,1.6299999999999999,1.5,0.75,0.69999999999999996,0.70999999999999996,0.69999999999999996,0.34999999999999998,0.91000000000000003,1.03,1.01,0.51000000000000001,0.53000000000000003,1.1699999999999999,0.56999999999999995,0.32000000000000001,0.95999999999999996,1.52,0.71999999999999997,1.4099999999999999,0.29999999999999999,1.03,0.53000000000000003,0.32000000000000001,0.93000000000000005,1.2,1,0.56999999999999995,1.5,1.1299999999999999,0.79000000000000004,1.79,0.31,0.90000000000000002,1.01,1.2,0.37,0.31,0.90000000000000002,2.0800000000000001,1.03,0.54000000000000004,0.52000000000000002,0.91000000000000003,1.01,1.1100000000000001,0.51000000000000001,1.1200000000000001,0.34000000000000002,0.68999999999999995,0.31,0.31,0.67000000000000004,0.33000000000000002,0.90000000000000002,0.29999999999999999,0.40000000000000002,0.40999999999999998,1.4199999999999999,0.76000000000000001,0.31,1.04,1.1100000000000001,1.3300000000000001,0.34000000000000002,0.38,0.75,1.01,1.5,0.48999999999999999,0.28000000000000003,0.32000000000000001,0.70999999999999996,1.3,1.6100000000000001,1.1299999999999999,0.64000000000000001,0.29999999999999999,0.48999999999999999,0.29999999999999999,0.31,0.70999999999999996,0.69999999999999996,0.54000000000000004,0.70999999999999996,1.6299999999999999,0.35999999999999999,0.40999999999999998,0.34999999999999998,0.29999999999999999,0.39000000000000001,0.55000000000000004,0.55000000000000004,1.3600000000000001,0.29999999999999999,2,1.26,1.01,0.40000000000000002,1,0.23999999999999999,1.01,0.32000000000000001,0.23999999999999999,1.3,1.4299999999999999,0.29999999999999999,0.35999999999999999,0.25],\"y\":[6389,6351,3763,624,2726,3670,942,7564,2968,1235,658,5700,4135,1691,4068,3789,2294,4838,8693,6827,2184,13681,7023,649,1892,4137,7954,4643,1052,491,10000,719,6091,2198,561,5140,4760,9744,3810,1375,14844,853,4685,4536,704,6302,5040,450,1271,3228,17353,802,2402,743,1723,760,450,15134,3793,5410,2387,625,6019,710,526,1841,5019,2464,11091,9781,572,13247,3791,3916,505,8638,9118,1179,816,1162,4139,1401,15801,7925,1253,828,1167,1333,3770,1356,2586,1040,742,886,3428,1882,14057,573,3519,18614,2055,2400,819,6659,891,804,8752,695,665,5148,5606,911,2839,11119,386,9979,12633,921,2720,1053,1815,702,1079,2192,1207,766,4937,941,758,9908,6375,1971,740,3451,4397,1056,680,675,663,6327,14735,1063,2650,2356,7358,777,8592,1035,2721,928,698,1736,1168,10539,4118,11257,2177,1678,1688,6616,6808,5393,4167,886,589,953,709,3095,1569,1056,964,743,668,11958,2571,16021,18693,544,6108,605,10036,15666,642,936,5436,3246,3950,3644,596,3425,1295,8094,621,2011,2256,776,1665,11478,471,3282,7310,1239,626,698,608,6867,10184,5396,373,876,1599,680,12690,900,628,17581,1382,4022,594,4627,4183,1652,2230,14067,597,10476,12492,4943,4797,1410,394,898,17673,6041,1851,1180,13605,3175,2622,477,2698,961,4460,1639,4804,2182,4953,489,6229,1974,1002,6301,956,1625,723,5378,2741,4900,1781,7979,4077,1051,571,839,5331,408,863,4682,2400,1105,876,7966,867,607,4238,2961,2207,768,1063,2992,3890,5164,544,800,1451,2958,5600,1013,8555,12874,11979,4373,9507,2329,394,4783,1617,789,3107,1708,10568,613,1284,724,3075,8092,1864,5484,3337,6569,1556,10646,1881,1666,6963,3253,566,1427,1129,4867,2327,617,802,5091,4089,4953,477,3822,13659,5000,850,18139,13794,3570,4170,16954,13096,1861,1571,4540,4398,1107,605,10710,4546,13320,4591,514,10772,1170,7550,952,1624,4639,579,5219,4229,942,821,1843,8408,1445,9177,8764,17676,7154,4314,648,3603,4754,1981,1431,1061,12799,2034,734,18117,641,4186,1153,4037,1709,1130,10727,6169,9009,4201,886,731,12765,1169,11950,9694,9282,3718,2792,2076,2289,906,4746,5411,5731,1261,1636,5585,1613,730,4026,3105,1814,11269,730,5105,1904,449,4218,9785,6867,1262,9946,9448,1943,9205,879,3105,5387,6968,1440,544,3856,18124,4221,1377,1354,3664,3461,7443,2146,5331,803,2057,977,625,2258,984,3187,684,1128,719,10338,1896,677,4455,4196,6791,880,1009,2453,4242,9173,1182,428,972,2694,7333,10278,5179,2243,911,1865,506,1046,2329,3239,1375,2528,12910,541,969,767,485,534,2120,1316,7549,524,16068,5301,6882,868,8950,373,3299,842,559,7567,8654,568,1131,361],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"colorbar\":{\"title\":\"carat\",\"ticklen\":2},\"cmin\":0.20999999999999999,\"cmax\":2.3700000000000001,\"colorscale\":[[\"0\",\"rgba(165,0,38,1)\"],[\"0.0416666666666667\",\"rgba(186,25,39,1)\"],[\"0.0833333333333333\",\"rgba(207,42,39,1)\"],[\"0.125\",\"rgba(222,66,46,1)\"],[\"0.166666666666667\",\"rgba(235,91,57,1)\"],[\"0.208333333333333\",\"rgba(245,115,69,1)\"],[\"0.25\",\"rgba(249,143,82,1)\"],[\"0.291666666666667\",\"rgba(253,169,94,1)\"],[\"0.333333333333333\",\"rgba(254,191,111,1)\"],[\"0.375\",\"rgba(254,212,128,1)\"],[\"0.416666666666667\",\"rgba(255,229,148,1)\"],[\"0.458333333333333\",\"rgba(255,242,169,1)\"],[\"0.5\",\"rgba(255,255,191,1)\"],[\"0.541666666666667\",\"rgba(239,248,169,1)\"],[\"0.583333333333333\",\"rgba(223,242,148,1)\"],[\"0.625\",\"rgba(204,234,131,1)\"],[\"0.666666666666667\",\"rgba(183,224,117,1)\"],[\"0.708333333333333\",\"rgba(161,215,105,1)\"],[\"0.75\",\"rgba(135,203,103,1)\"],[\"0.791666666666667\",\"rgba(108,191,100,1)\"],[\"0.833333333333333\",\"rgba(81,177,93,1)\"],[\"0.875\",\"rgba(51,161,85,1)\"],[\"0.916666666666667\",\"rgba(22,144,76,1)\"],[\"0.958333333333333\",\"rgba(10,124,65,1)\"],[\"1\",\"rgba(0,104,55,1)\"]],\"showscale\":false,\"color\":[1.23,1.22,1,0.32000000000000001,0.69999999999999996,1.1299999999999999,0.41999999999999998,1.1699999999999999,1.1299999999999999,0.52000000000000002,0.29999999999999999,1.01,0.81999999999999995,0.56000000000000005,0.94999999999999996,1,0.71999999999999997,1.1499999999999999,1.24,1.0900000000000001,0.69999999999999996,1.7,1.27,0.37,0.54000000000000004,1.02,1.0700000000000001,0.90000000000000002,0.33000000000000002,0.34999999999999998,1.51,0.33000000000000002,1.03,0.71999999999999997,0.32000000000000001,1.01,1.01,1.2,0.81999999999999995,0.51000000000000001,1.51,0.39000000000000001,1.0800000000000001,0.90000000000000002,0.42999999999999999,1.3,1.2,0.32000000000000001,0.62,0.65000000000000002,1.9299999999999999,0.33000000000000002,0.56999999999999995,0.40999999999999998,0.56000000000000005,0.41999999999999998,0.25,2.0099999999999998,0.80000000000000004,1.03,0.65000000000000002,0.33000000000000002,1.2,0.29999999999999999,0.29999999999999999,0.66000000000000003,1.05,0.73999999999999999,1.7,1.1599999999999999,0.37,1.7,1.24,0.92000000000000004,0.32000000000000001,1,1.5,0.41999999999999998,0.31,0.34999999999999998,1.1200000000000001,0.60999999999999999,1.72,1.0800000000000001,0.56000000000000005,0.32000000000000001,0.34999999999999998,0.40000000000000002,0.90000000000000002,0.54000000000000004,0.71999999999999997,0.41999999999999998,0.29999999999999999,0.29999999999999999,0.77000000000000002,0.51000000000000001,2,0.29999999999999999,0.90000000000000002,1.49,0.70999999999999996,0.78000000000000003,0.29999999999999999,1.02,0.31,0.33000000000000002,1.51,0.31,0.35999999999999999,1.1399999999999999,1,0.29999999999999999,0.69999999999999996,2.0899999999999999,0.20999999999999999,1.3200000000000001,2.1099999999999999,0.41999999999999998,0.55000000000000004,0.47999999999999998,0.52000000000000002,0.40000000000000002,0.40999999999999998,0.69999999999999996,0.42999999999999999,0.29999999999999999,1.05,0.34000000000000002,0.32000000000000001,1.01,1.54,0.69999999999999996,0.25,0.69999999999999996,0.90000000000000002,0.40000000000000002,0.31,0.29999999999999999,0.35999999999999999,1.24,2.1800000000000002,0.34999999999999998,0.71999999999999997,0.54000000000000004,1.3100000000000001,0.41999999999999998,1.1499999999999999,0.34999999999999998,0.78000000000000003,0.33000000000000002,0.31,0.54000000000000004,0.40000000000000002,1.04,1.02,1.7,0.71999999999999997,0.53000000000000003,0.53000000000000003,1.1000000000000001,1.24,1.0600000000000001,0.70999999999999996,0.29999999999999999,0.34000000000000002,0.46000000000000002,0.29999999999999999,0.81000000000000005,0.5,0.42999999999999999,0.54000000000000004,0.33000000000000002,0.23999999999999999,1.71,1.3,2.3700000000000001,2.1899999999999999,0.31,1.01,0.29999999999999999,1.54,2.02,0.31,0.29999999999999999,1.22,0.90000000000000002,0.90000000000000002,0.90000000000000002,0.38,1.04,0.40999999999999998,1.3400000000000001,0.40999999999999998,0.69999999999999996,0.57999999999999996,0.29999999999999999,0.54000000000000004,1.28,0.28999999999999998,0.92000000000000004,1.22,0.57999999999999996,0.35999999999999999,0.31,0.29999999999999999,1.1799999999999999,2.0099999999999998,1,0.23999999999999999,0.40999999999999998,0.51000000000000001,0.31,2.0099999999999998,0.32000000000000001,0.34999999999999998,2.02,0.60999999999999999,0.65000000000000002,0.33000000000000002,0.90000000000000002,0.92000000000000004,0.62,0.69999999999999996,2.0099999999999998,0.39000000000000001,1.01,2.0299999999999998,1.01,1.1599999999999999,0.5,0.29999999999999999,0.41999999999999998,2.2799999999999998,1.1499999999999999,0.56999999999999995,0.40000000000000002,1.7,0.69999999999999996,0.76000000000000001,0.32000000000000001,0.75,0.40999999999999998,0.90000000000000002,0.55000000000000004,1.04,0.60999999999999999,1.1200000000000001,0.31,1.03,0.51000000000000001,0.33000000000000002,1.1599999999999999,0.34000000000000002,0.53000000000000003,0.42999999999999999,1.1299999999999999,0.70999999999999996,1.03,0.51000000000000001,1,1,0.40999999999999998,0.31,0.42999999999999999,1,0.31,0.5,1.0900000000000001,0.57999999999999996,0.40999999999999998,0.37,1,0.42999999999999999,0.28999999999999998,1.02,0.77000000000000002,0.60999999999999999,0.32000000000000001,0.44,0.75,1.0900000000000001,1.1299999999999999,0.31,0.40000000000000002,0.52000000000000002,0.97999999999999998,1,0.35999999999999999,1.5,1.7,1.52,0.84999999999999998,1.1100000000000001,0.80000000000000004,0.29999999999999999,0.90000000000000002,0.55000000000000004,0.35999999999999999,0.69999999999999996,0.51000000000000001,1.21,0.40999999999999998,0.51000000000000001,0.34000000000000002,0.71999999999999997,1.51,0.56999999999999995,1,0.98999999999999999,1.2,0.55000000000000004,1.6000000000000001,0.55000000000000004,0.5,1.21,0.69999999999999996,0.34000000000000002,0.53000000000000003,0.42999999999999999,1,0.70999999999999996,0.41999999999999998,0.31,1.1599999999999999,0.92000000000000004,1,0.32000000000000001,1.05,1.78,1.24,0.40000000000000002,2.0299999999999998,1.54,0.82999999999999996,1,2.2799999999999998,1.25,0.70999999999999996,0.56999999999999995,0.90000000000000002,1.02,0.31,0.29999999999999999,1.02,0.93000000000000005,2,1.0900000000000001,0.29999999999999999,2.0099999999999998,0.39000000000000001,1.3100000000000001,0.39000000000000001,0.5,1.1799999999999999,0.33000000000000002,1.0900000000000001,1.02,0.31,0.34000000000000002,0.69999999999999996,1.1200000000000001,0.58999999999999997,1.0700000000000001,1.25,2.3199999999999998,1.51,1.0700000000000001,0.32000000000000001,1.1299999999999999,1.21,0.69999999999999996,0.40999999999999998,0.40999999999999998,1.5800000000000001,0.70999999999999996,0.31,2.02,0.38,1.1499999999999999,0.40999999999999998,0.92000000000000004,0.55000000000000004,0.40999999999999998,1.29,1.02,1.25,1.05,0.29999999999999999,0.29999999999999999,2,0.40999999999999998,1.51,1.6299999999999999,1.5,0.75,0.69999999999999996,0.70999999999999996,0.69999999999999996,0.34999999999999998,0.91000000000000003,1.03,1.01,0.51000000000000001,0.53000000000000003,1.1699999999999999,0.56999999999999995,0.32000000000000001,0.95999999999999996,1.52,0.71999999999999997,1.4099999999999999,0.29999999999999999,1.03,0.53000000000000003,0.32000000000000001,0.93000000000000005,1.2,1,0.56999999999999995,1.5,1.1299999999999999,0.79000000000000004,1.79,0.31,0.90000000000000002,1.01,1.2,0.37,0.31,0.90000000000000002,2.0800000000000001,1.03,0.54000000000000004,0.52000000000000002,0.91000000000000003,1.01,1.1100000000000001,0.51000000000000001,1.1200000000000001,0.34000000000000002,0.68999999999999995,0.31,0.31,0.67000000000000004,0.33000000000000002,0.90000000000000002,0.29999999999999999,0.40000000000000002,0.40999999999999998,1.4199999999999999,0.76000000000000001,0.31,1.04,1.1100000000000001,1.3300000000000001,0.34000000000000002,0.38,0.75,1.01,1.5,0.48999999999999999,0.28000000000000003,0.32000000000000001,0.70999999999999996,1.3,1.6100000000000001,1.1299999999999999,0.64000000000000001,0.29999999999999999,0.48999999999999999,0.29999999999999999,0.31,0.70999999999999996,0.69999999999999996,0.54000000000000004,0.70999999999999996,1.6299999999999999,0.35999999999999999,0.40999999999999998,0.34999999999999998,0.29999999999999999,0.39000000000000001,0.55000000000000004,0.55000000000000004,1.3600000000000001,0.29999999999999999,2,1.26,1.01,0.40000000000000002,1,0.23999999999999999,1.01,0.32000000000000001,0.23999999999999999,1.3,1.4299999999999999,0.29999999999999999,0.35999999999999999,0.25],\"line\":{\"colorbar\":{\"title\":\"\",\"ticklen\":2},\"cmin\":0.20999999999999999,\"cmax\":2.3700000000000001,\"colorscale\":[[\"0\",\"rgba(165,0,38,1)\"],[\"0.0416666666666667\",\"rgba(186,25,39,1)\"],[\"0.0833333333333333\",\"rgba(207,42,39,1)\"],[\"0.125\",\"rgba(222,66,46,1)\"],[\"0.166666666666667\",\"rgba(235,91,57,1)\"],[\"0.208333333333333\",\"rgba(245,115,69,1)\"],[\"0.25\",\"rgba(249,143,82,1)\"],[\"0.291666666666667\",\"rgba(253,169,94,1)\"],[\"0.333333333333333\",\"rgba(254,191,111,1)\"],[\"0.375\",\"rgba(254,212,128,1)\"],[\"0.416666666666667\",\"rgba(255,229,148,1)\"],[\"0.458333333333333\",\"rgba(255,242,169,1)\"],[\"0.5\",\"rgba(255,255,191,1)\"],[\"0.541666666666667\",\"rgba(239,248,169,1)\"],[\"0.583333333333333\",\"rgba(223,242,148,1)\"],[\"0.625\",\"rgba(204,234,131,1)\"],[\"0.666666666666667\",\"rgba(183,224,117,1)\"],[\"0.708333333333333\",\"rgba(161,215,105,1)\"],[\"0.75\",\"rgba(135,203,103,1)\"],[\"0.791666666666667\",\"rgba(108,191,100,1)\"],[\"0.833333333333333\",\"rgba(81,177,93,1)\"],[\"0.875\",\"rgba(51,161,85,1)\"],[\"0.916666666666667\",\"rgba(22,144,76,1)\"],[\"0.958333333333333\",\"rgba(10,124,65,1)\"],[\"1\",\"rgba(0,104,55,1)\"]],\"showscale\":false,\"color\":[1.23,1.22,1,0.32000000000000001,0.69999999999999996,1.1299999999999999,0.41999999999999998,1.1699999999999999,1.1299999999999999,0.52000000000000002,0.29999999999999999,1.01,0.81999999999999995,0.56000000000000005,0.94999999999999996,1,0.71999999999999997,1.1499999999999999,1.24,1.0900000000000001,0.69999999999999996,1.7,1.27,0.37,0.54000000000000004,1.02,1.0700000000000001,0.90000000000000002,0.33000000000000002,0.34999999999999998,1.51,0.33000000000000002,1.03,0.71999999999999997,0.32000000000000001,1.01,1.01,1.2,0.81999999999999995,0.51000000000000001,1.51,0.39000000000000001,1.0800000000000001,0.90000000000000002,0.42999999999999999,1.3,1.2,0.32000000000000001,0.62,0.65000000000000002,1.9299999999999999,0.33000000000000002,0.56999999999999995,0.40999999999999998,0.56000000000000005,0.41999999999999998,0.25,2.0099999999999998,0.80000000000000004,1.03,0.65000000000000002,0.33000000000000002,1.2,0.29999999999999999,0.29999999999999999,0.66000000000000003,1.05,0.73999999999999999,1.7,1.1599999999999999,0.37,1.7,1.24,0.92000000000000004,0.32000000000000001,1,1.5,0.41999999999999998,0.31,0.34999999999999998,1.1200000000000001,0.60999999999999999,1.72,1.0800000000000001,0.56000000000000005,0.32000000000000001,0.34999999999999998,0.40000000000000002,0.90000000000000002,0.54000000000000004,0.71999999999999997,0.41999999999999998,0.29999999999999999,0.29999999999999999,0.77000000000000002,0.51000000000000001,2,0.29999999999999999,0.90000000000000002,1.49,0.70999999999999996,0.78000000000000003,0.29999999999999999,1.02,0.31,0.33000000000000002,1.51,0.31,0.35999999999999999,1.1399999999999999,1,0.29999999999999999,0.69999999999999996,2.0899999999999999,0.20999999999999999,1.3200000000000001,2.1099999999999999,0.41999999999999998,0.55000000000000004,0.47999999999999998,0.52000000000000002,0.40000000000000002,0.40999999999999998,0.69999999999999996,0.42999999999999999,0.29999999999999999,1.05,0.34000000000000002,0.32000000000000001,1.01,1.54,0.69999999999999996,0.25,0.69999999999999996,0.90000000000000002,0.40000000000000002,0.31,0.29999999999999999,0.35999999999999999,1.24,2.1800000000000002,0.34999999999999998,0.71999999999999997,0.54000000000000004,1.3100000000000001,0.41999999999999998,1.1499999999999999,0.34999999999999998,0.78000000000000003,0.33000000000000002,0.31,0.54000000000000004,0.40000000000000002,1.04,1.02,1.7,0.71999999999999997,0.53000000000000003,0.53000000000000003,1.1000000000000001,1.24,1.0600000000000001,0.70999999999999996,0.29999999999999999,0.34000000000000002,0.46000000000000002,0.29999999999999999,0.81000000000000005,0.5,0.42999999999999999,0.54000000000000004,0.33000000000000002,0.23999999999999999,1.71,1.3,2.3700000000000001,2.1899999999999999,0.31,1.01,0.29999999999999999,1.54,2.02,0.31,0.29999999999999999,1.22,0.90000000000000002,0.90000000000000002,0.90000000000000002,0.38,1.04,0.40999999999999998,1.3400000000000001,0.40999999999999998,0.69999999999999996,0.57999999999999996,0.29999999999999999,0.54000000000000004,1.28,0.28999999999999998,0.92000000000000004,1.22,0.57999999999999996,0.35999999999999999,0.31,0.29999999999999999,1.1799999999999999,2.0099999999999998,1,0.23999999999999999,0.40999999999999998,0.51000000000000001,0.31,2.0099999999999998,0.32000000000000001,0.34999999999999998,2.02,0.60999999999999999,0.65000000000000002,0.33000000000000002,0.90000000000000002,0.92000000000000004,0.62,0.69999999999999996,2.0099999999999998,0.39000000000000001,1.01,2.0299999999999998,1.01,1.1599999999999999,0.5,0.29999999999999999,0.41999999999999998,2.2799999999999998,1.1499999999999999,0.56999999999999995,0.40000000000000002,1.7,0.69999999999999996,0.76000000000000001,0.32000000000000001,0.75,0.40999999999999998,0.90000000000000002,0.55000000000000004,1.04,0.60999999999999999,1.1200000000000001,0.31,1.03,0.51000000000000001,0.33000000000000002,1.1599999999999999,0.34000000000000002,0.53000000000000003,0.42999999999999999,1.1299999999999999,0.70999999999999996,1.03,0.51000000000000001,1,1,0.40999999999999998,0.31,0.42999999999999999,1,0.31,0.5,1.0900000000000001,0.57999999999999996,0.40999999999999998,0.37,1,0.42999999999999999,0.28999999999999998,1.02,0.77000000000000002,0.60999999999999999,0.32000000000000001,0.44,0.75,1.0900000000000001,1.1299999999999999,0.31,0.40000000000000002,0.52000000000000002,0.97999999999999998,1,0.35999999999999999,1.5,1.7,1.52,0.84999999999999998,1.1100000000000001,0.80000000000000004,0.29999999999999999,0.90000000000000002,0.55000000000000004,0.35999999999999999,0.69999999999999996,0.51000000000000001,1.21,0.40999999999999998,0.51000000000000001,0.34000000000000002,0.71999999999999997,1.51,0.56999999999999995,1,0.98999999999999999,1.2,0.55000000000000004,1.6000000000000001,0.55000000000000004,0.5,1.21,0.69999999999999996,0.34000000000000002,0.53000000000000003,0.42999999999999999,1,0.70999999999999996,0.41999999999999998,0.31,1.1599999999999999,0.92000000000000004,1,0.32000000000000001,1.05,1.78,1.24,0.40000000000000002,2.0299999999999998,1.54,0.82999999999999996,1,2.2799999999999998,1.25,0.70999999999999996,0.56999999999999995,0.90000000000000002,1.02,0.31,0.29999999999999999,1.02,0.93000000000000005,2,1.0900000000000001,0.29999999999999999,2.0099999999999998,0.39000000000000001,1.3100000000000001,0.39000000000000001,0.5,1.1799999999999999,0.33000000000000002,1.0900000000000001,1.02,0.31,0.34000000000000002,0.69999999999999996,1.1200000000000001,0.58999999999999997,1.0700000000000001,1.25,2.3199999999999998,1.51,1.0700000000000001,0.32000000000000001,1.1299999999999999,1.21,0.69999999999999996,0.40999999999999998,0.40999999999999998,1.5800000000000001,0.70999999999999996,0.31,2.02,0.38,1.1499999999999999,0.40999999999999998,0.92000000000000004,0.55000000000000004,0.40999999999999998,1.29,1.02,1.25,1.05,0.29999999999999999,0.29999999999999999,2,0.40999999999999998,1.51,1.6299999999999999,1.5,0.75,0.69999999999999996,0.70999999999999996,0.69999999999999996,0.34999999999999998,0.91000000000000003,1.03,1.01,0.51000000000000001,0.53000000000000003,1.1699999999999999,0.56999999999999995,0.32000000000000001,0.95999999999999996,1.52,0.71999999999999997,1.4099999999999999,0.29999999999999999,1.03,0.53000000000000003,0.32000000000000001,0.93000000000000005,1.2,1,0.56999999999999995,1.5,1.1299999999999999,0.79000000000000004,1.79,0.31,0.90000000000000002,1.01,1.2,0.37,0.31,0.90000000000000002,2.0800000000000001,1.03,0.54000000000000004,0.52000000000000002,0.91000000000000003,1.01,1.1100000000000001,0.51000000000000001,1.1200000000000001,0.34000000000000002,0.68999999999999995,0.31,0.31,0.67000000000000004,0.33000000000000002,0.90000000000000002,0.29999999999999999,0.40000000000000002,0.40999999999999998,1.4199999999999999,0.76000000000000001,0.31,1.04,1.1100000000000001,1.3300000000000001,0.34000000000000002,0.38,0.75,1.01,1.5,0.48999999999999999,0.28000000000000003,0.32000000000000001,0.70999999999999996,1.3,1.6100000000000001,1.1299999999999999,0.64000000000000001,0.29999999999999999,0.48999999999999999,0.29999999999999999,0.31,0.70999999999999996,0.69999999999999996,0.54000000000000004,0.70999999999999996,1.6299999999999999,0.35999999999999999,0.40999999999999998,0.34999999999999998,0.29999999999999999,0.39000000000000001,0.55000000000000004,0.55000000000000004,1.3600000000000001,0.29999999999999999,2,1.26,1.01,0.40000000000000002,1,0.23999999999999999,1.01,0.32000000000000001,0.23999999999999999,1.3,1.4299999999999999,0.29999999999999999,0.35999999999999999,0.25]}},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[0.20999999999999999,2.3700000000000001],\"y\":[361,18693],\"type\":\"scatter\",\"mode\":\"markers\",\"opacity\":0,\"hoverinfo\":\"none\",\"showlegend\":false,\"marker\":{\"colorbar\":{\"title\":\"carat\",\"ticklen\":2,\"len\":0.5,\"lenmode\":\"fraction\",\"y\":1,\"yanchor\":\"top\"},\"cmin\":0.20999999999999999,\"cmax\":2.3700000000000001,\"colorscale\":[[\"0\",\"rgba(165,0,38,1)\"],[\"0.0416666666666667\",\"rgba(186,25,39,1)\"],[\"0.0833333333333333\",\"rgba(207,42,39,1)\"],[\"0.125\",\"rgba(222,66,46,1)\"],[\"0.166666666666667\",\"rgba(235,91,57,1)\"],[\"0.208333333333333\",\"rgba(245,115,69,1)\"],[\"0.25\",\"rgba(249,143,82,1)\"],[\"0.291666666666667\",\"rgba(253,169,94,1)\"],[\"0.333333333333333\",\"rgba(254,191,111,1)\"],[\"0.375\",\"rgba(254,212,128,1)\"],[\"0.416666666666667\",\"rgba(255,229,148,1)\"],[\"0.458333333333333\",\"rgba(255,242,169,1)\"],[\"0.5\",\"rgba(255,255,191,1)\"],[\"0.541666666666667\",\"rgba(239,248,169,1)\"],[\"0.583333333333333\",\"rgba(223,242,148,1)\"],[\"0.625\",\"rgba(204,234,131,1)\"],[\"0.666666666666667\",\"rgba(183,224,117,1)\"],[\"0.708333333333333\",\"rgba(161,215,105,1)\"],[\"0.75\",\"rgba(135,203,103,1)\"],[\"0.791666666666667\",\"rgba(108,191,100,1)\"],[\"0.833333333333333\",\"rgba(81,177,93,1)\"],[\"0.875\",\"rgba(51,161,85,1)\"],[\"0.916666666666667\",\"rgba(22,144,76,1)\"],[\"0.958333333333333\",\"rgba(10,124,65,1)\"],[\"1\",\"rgba(0,104,55,1)\"]],\"showscale\":true,\"color\":[0.20999999999999999,2.3700000000000001],\"line\":{\"color\":\"rgba(255,127,14,1)\"}},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n## 棒グラフ\n\n`x`に因子、`y`に数値を与えると、`plot_ly`関数は自動的に棒グラフを描画します。逆に`x`に数値、`y`に因子を与えると、棒グラフが横向きになります。\n\n\n::: {.cell filename='棒グラフの描画'}\n\n```{.r .cell-code}\niris |> \n  group_by(Species) |>\n  summarise(mSepal.Length = mean(Sepal.Length)) |> \n  plot_ly(x = ~Species, y = ~mSepal.Length, color = ~Species)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-55c6410ee5a45728a109\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-55c6410ee5a45728a109\">{\"x\":{\"visdat\":{\"5e1c142d5cc8\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"5e1c142d5cc8\",\"attrs\":{\"5e1c142d5cc8\":{\"x\":{},\"y\":{},\"color\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20]}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Species\",\"type\":\"category\",\"categoryorder\":\"array\",\"categoryarray\":[\"setosa\",\"versicolor\",\"virginica\"]},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"mSepal.Length\"},\"hovermode\":\"closest\",\"showlegend\":true},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"x\":[\"setosa\"],\"y\":[5.0060000000000002],\"type\":\"bar\",\"name\":\"setosa\",\"marker\":{\"color\":\"rgba(102,194,165,1)\",\"line\":{\"color\":\"rgba(102,194,165,1)\"}},\"textfont\":{\"color\":\"rgba(102,194,165,1)\"},\"error_y\":{\"color\":\"rgba(102,194,165,1)\"},\"error_x\":{\"color\":\"rgba(102,194,165,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[\"versicolor\"],\"y\":[5.9359999999999999],\"type\":\"bar\",\"name\":\"versicolor\",\"marker\":{\"color\":\"rgba(252,141,98,1)\",\"line\":{\"color\":\"rgba(252,141,98,1)\"}},\"textfont\":{\"color\":\"rgba(252,141,98,1)\"},\"error_y\":{\"color\":\"rgba(252,141,98,1)\"},\"error_x\":{\"color\":\"rgba(252,141,98,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[\"virginica\"],\"y\":[6.5880000000000001],\"type\":\"bar\",\"name\":\"virginica\",\"marker\":{\"color\":\"rgba(141,160,203,1)\",\"line\":{\"color\":\"rgba(141,160,203,1)\"}},\"textfont\":{\"color\":\"rgba(141,160,203,1)\"},\"error_y\":{\"color\":\"rgba(141,160,203,1)\"},\"error_x\":{\"color\":\"rgba(141,160,203,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n## 線グラフ\n\n線グラフを描画する場合の`x`、`y`の指定は散布図と同じです。線を加える場合には、`mode=\"lines\"`もしくは`mode=\"lines+markers\"`と指定します。`\"lines\"`で指定した場合には線のみ、`\"lines+markers\"`は点と線を描画する形になります。\n\n\n::: {.cell filename='mode=\"lines\"で線グラフを描画'}\n\n```{.r .cell-code}\npacman::p_load(gapminder)\ncolor_4 <- c(\"red\", \"blue\", \"green\", \"black\") # 色をベクターで指定\n\ngapminder::gapminder |> \n  filter(country == \"Japan\" | country == \"China\" | country == \"United States\" | country == \"Australia\") |> \n  plot_ly(x = ~year, y = ~gdpPercap, type = \"scatter\", mode = \"lines+markers\", color = ~country, colors = color_4)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-0f810072887ea60a1f54\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-0f810072887ea60a1f54\">{\"x\":{\"visdat\":{\"5e1c13736fdf\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"5e1c13736fdf\",\"attrs\":{\"5e1c13736fdf\":{\"x\":{},\"y\":{},\"mode\":\"lines+markers\",\"color\":{},\"colors\":[\"red\",\"blue\",\"green\",\"black\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"year\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"gdpPercap\"},\"hovermode\":\"closest\",\"showlegend\":true},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"x\":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],\"y\":[10039.59564,10949.649590000001,12217.226860000001,14526.12465,16788.62948,18334.197510000002,19477.009279999998,21888.889029999998,23424.76683,26997.936570000002,30687.754730000001,34435.367440000002],\"mode\":\"lines+markers\",\"type\":\"scatter\",\"name\":\"Australia\",\"marker\":{\"color\":\"rgba(246,0,44,1)\",\"line\":{\"color\":\"rgba(246,0,44,1)\"}},\"textfont\":{\"color\":\"rgba(246,0,44,1)\"},\"error_y\":{\"color\":\"rgba(246,0,44,1)\"},\"error_x\":{\"color\":\"rgba(246,0,44,1)\"},\"line\":{\"color\":\"rgba(246,0,44,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],\"y\":[400.44861100000003,575.9870009,487.6740183,612.70569339999997,676.90009210000005,741.23746989999995,962.42138050000005,1378.904018,1655.7841579999999,2289.234136,3119.2808960000002,4959.1148540000004],\"mode\":\"lines+markers\",\"type\":\"scatter\",\"name\":\"China\",\"marker\":{\"color\":\"rgba(200,0,139,1)\",\"line\":{\"color\":\"rgba(200,0,139,1)\"}},\"textfont\":{\"color\":\"rgba(200,0,139,1)\"},\"error_y\":{\"color\":\"rgba(200,0,139,1)\"},\"error_x\":{\"color\":\"rgba(200,0,139,1)\"},\"line\":{\"color\":\"rgba(200,0,139,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],\"y\":[3216.9563469999998,4317.6943650000003,6576.649461,9847.7886070000004,14778.78636,16610.37701,19384.10571,22375.941889999998,26824.895110000001,28816.584989999999,28604.591899999999,31656.068060000001],\"mode\":\"lines+markers\",\"type\":\"scatter\",\"name\":\"Japan\",\"marker\":{\"color\":\"rgba(123,126,184,1)\",\"line\":{\"color\":\"rgba(123,126,184,1)\"}},\"textfont\":{\"color\":\"rgba(123,126,184,1)\"},\"error_y\":{\"color\":\"rgba(123,126,184,1)\"},\"error_x\":{\"color\":\"rgba(123,126,184,1)\"},\"line\":{\"color\":\"rgba(123,126,184,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],\"y\":[13990.48208,14847.127119999999,16173.145860000001,19530.365570000002,21806.035940000002,24072.632130000002,25009.559140000001,29884.350409999999,32003.932239999998,35767.43303,39097.099549999999,42951.65309],\"mode\":\"lines+markers\",\"type\":\"scatter\",\"name\":\"United States\",\"marker\":{\"color\":\"rgba(21,38,15,1)\",\"line\":{\"color\":\"rgba(21,38,15,1)\"}},\"textfont\":{\"color\":\"rgba(21,38,15,1)\"},\"error_y\":{\"color\":\"rgba(21,38,15,1)\"},\"error_x\":{\"color\":\"rgba(21,38,15,1)\"},\"line\":{\"color\":\"rgba(21,38,15,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n## 3次元グラフ\n\n3次元のグラフは`rgl`で描画できますが、`plotly`でも簡単に3次元グラフを作成することができます。`plotly`で三次元グラフを作成する場合には、`x`、`y`に加えて、`z`軸に相当する値を指定します。ただし、`rgl`と同じように、3次元グラフはデータを認識しにくいため、3dグラフを用いるのではなく他のグラフ、例えばバブルチャートなどを選択する方がよいでしょう。\n\n\n::: {.cell filename='plotlyで3次元グラフ'}\n\n```{.r .cell-code}\niris |> \n  plot_ly(x = ~Sepal.Length, y = ~Sepal.Width, z = ~Petal.Length, color = ~Species, size = 0.1)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-3647d39875215a23c64e\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-3647d39875215a23c64e\">{\"x\":{\"visdat\":{\"5e1c12171675\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"5e1c12171675\",\"attrs\":{\"5e1c12171675\":{\"x\":{},\"y\":{},\"z\":{},\"color\":{},\"size\":0.10000000000000001,\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20]}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"xaxis\":{\"title\":\"Sepal.Length\"},\"yaxis\":{\"title\":\"Sepal.Width\"},\"zaxis\":{\"title\":\"Petal.Length\"}},\"hovermode\":\"closest\",\"showlegend\":true},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"x\":[5.0999999999999996,4.9000000000000004,4.7000000000000002,4.5999999999999996,5,5.4000000000000004,4.5999999999999996,5,4.4000000000000004,4.9000000000000004,5.4000000000000004,4.7999999999999998,4.7999999999999998,4.2999999999999998,5.7999999999999998,5.7000000000000002,5.4000000000000004,5.0999999999999996,5.7000000000000002,5.0999999999999996,5.4000000000000004,5.0999999999999996,4.5999999999999996,5.0999999999999996,4.7999999999999998,5,5,5.2000000000000002,5.2000000000000002,4.7000000000000002,4.7999999999999998,5.4000000000000004,5.2000000000000002,5.5,4.9000000000000004,5,5.5,4.9000000000000004,4.4000000000000004,5.0999999999999996,5,4.5,4.4000000000000004,5,5.0999999999999996,4.7999999999999998,5.0999999999999996,4.5999999999999996,5.2999999999999998,5],\"y\":[3.5,3,3.2000000000000002,3.1000000000000001,3.6000000000000001,3.8999999999999999,3.3999999999999999,3.3999999999999999,2.8999999999999999,3.1000000000000001,3.7000000000000002,3.3999999999999999,3,3,4,4.4000000000000004,3.8999999999999999,3.5,3.7999999999999998,3.7999999999999998,3.3999999999999999,3.7000000000000002,3.6000000000000001,3.2999999999999998,3.3999999999999999,3,3.3999999999999999,3.5,3.3999999999999999,3.2000000000000002,3.1000000000000001,3.3999999999999999,4.0999999999999996,4.2000000000000002,3.1000000000000001,3.2000000000000002,3.5,3.6000000000000001,3,3.3999999999999999,3.5,2.2999999999999998,3.2000000000000002,3.5,3.7999999999999998,3,3.7999999999999998,3.2000000000000002,3.7000000000000002,3.2999999999999998],\"z\":[1.3999999999999999,1.3999999999999999,1.3,1.5,1.3999999999999999,1.7,1.3999999999999999,1.5,1.3999999999999999,1.5,1.5,1.6000000000000001,1.3999999999999999,1.1000000000000001,1.2,1.5,1.3,1.3999999999999999,1.7,1.5,1.7,1.5,1,1.7,1.8999999999999999,1.6000000000000001,1.6000000000000001,1.5,1.3999999999999999,1.6000000000000001,1.6000000000000001,1.5,1.5,1.3999999999999999,1.5,1.2,1.3,1.3999999999999999,1.3,1.5,1.3,1.3,1.3,1.6000000000000001,1.8999999999999999,1.3999999999999999,1.6000000000000001,1.3999999999999999,1.5,1.3999999999999999],\"type\":\"scatter3d\",\"mode\":\"markers\",\"name\":\"setosa\",\"marker\":{\"color\":\"rgba(102,194,165,1)\",\"size\":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],\"sizemode\":\"area\",\"line\":{\"color\":\"rgba(102,194,165,1)\"}},\"textfont\":{\"color\":\"rgba(102,194,165,1)\",\"size\":55},\"error_y\":{\"color\":\"rgba(102,194,165,1)\",\"width\":55},\"error_x\":{\"color\":\"rgba(102,194,165,1)\",\"width\":55},\"line\":{\"color\":\"rgba(102,194,165,1)\",\"width\":55},\"frame\":null},{\"x\":[7,6.4000000000000004,6.9000000000000004,5.5,6.5,5.7000000000000002,6.2999999999999998,4.9000000000000004,6.5999999999999996,5.2000000000000002,5,5.9000000000000004,6,6.0999999999999996,5.5999999999999996,6.7000000000000002,5.5999999999999996,5.7999999999999998,6.2000000000000002,5.5999999999999996,5.9000000000000004,6.0999999999999996,6.2999999999999998,6.0999999999999996,6.4000000000000004,6.5999999999999996,6.7999999999999998,6.7000000000000002,6,5.7000000000000002,5.5,5.5,5.7999999999999998,6,5.4000000000000004,6,6.7000000000000002,6.2999999999999998,5.5999999999999996,5.5,5.5,6.0999999999999996,5.7999999999999998,5,5.5999999999999996,5.7000000000000002,5.7000000000000002,6.2000000000000002,5.0999999999999996,5.7000000000000002],\"y\":[3.2000000000000002,3.2000000000000002,3.1000000000000001,2.2999999999999998,2.7999999999999998,2.7999999999999998,3.2999999999999998,2.3999999999999999,2.8999999999999999,2.7000000000000002,2,3,2.2000000000000002,2.8999999999999999,2.8999999999999999,3.1000000000000001,3,2.7000000000000002,2.2000000000000002,2.5,3.2000000000000002,2.7999999999999998,2.5,2.7999999999999998,2.8999999999999999,3,2.7999999999999998,3,2.8999999999999999,2.6000000000000001,2.3999999999999999,2.3999999999999999,2.7000000000000002,2.7000000000000002,3,3.3999999999999999,3.1000000000000001,2.2999999999999998,3,2.5,2.6000000000000001,3,2.6000000000000001,2.2999999999999998,2.7000000000000002,3,2.8999999999999999,2.8999999999999999,2.5,2.7999999999999998],\"z\":[4.7000000000000002,4.5,4.9000000000000004,4,4.5999999999999996,4.5,4.7000000000000002,3.2999999999999998,4.5999999999999996,3.8999999999999999,3.5,4.2000000000000002,4,4.7000000000000002,3.6000000000000001,4.4000000000000004,4.5,4.0999999999999996,4.5,3.8999999999999999,4.7999999999999998,4,4.9000000000000004,4.7000000000000002,4.2999999999999998,4.4000000000000004,4.7999999999999998,5,4.5,3.5,3.7999999999999998,3.7000000000000002,3.8999999999999999,5.0999999999999996,4.5,4.5,4.7000000000000002,4.4000000000000004,4.0999999999999996,4,4.4000000000000004,4.5999999999999996,4,3.2999999999999998,4.2000000000000002,4.2000000000000002,4.2000000000000002,4.2999999999999998,3,4.0999999999999996],\"type\":\"scatter3d\",\"mode\":\"markers\",\"name\":\"versicolor\",\"marker\":{\"color\":\"rgba(252,141,98,1)\",\"size\":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],\"sizemode\":\"area\",\"line\":{\"color\":\"rgba(252,141,98,1)\"}},\"textfont\":{\"color\":\"rgba(252,141,98,1)\",\"size\":55},\"error_y\":{\"color\":\"rgba(252,141,98,1)\",\"width\":55},\"error_x\":{\"color\":\"rgba(252,141,98,1)\",\"width\":55},\"line\":{\"color\":\"rgba(252,141,98,1)\",\"width\":55},\"frame\":null},{\"x\":[6.2999999999999998,5.7999999999999998,7.0999999999999996,6.2999999999999998,6.5,7.5999999999999996,4.9000000000000004,7.2999999999999998,6.7000000000000002,7.2000000000000002,6.5,6.4000000000000004,6.7999999999999998,5.7000000000000002,5.7999999999999998,6.4000000000000004,6.5,7.7000000000000002,7.7000000000000002,6,6.9000000000000004,5.5999999999999996,7.7000000000000002,6.2999999999999998,6.7000000000000002,7.2000000000000002,6.2000000000000002,6.0999999999999996,6.4000000000000004,7.2000000000000002,7.4000000000000004,7.9000000000000004,6.4000000000000004,6.2999999999999998,6.0999999999999996,7.7000000000000002,6.2999999999999998,6.4000000000000004,6,6.9000000000000004,6.7000000000000002,6.9000000000000004,5.7999999999999998,6.7999999999999998,6.7000000000000002,6.7000000000000002,6.2999999999999998,6.5,6.2000000000000002,5.9000000000000004],\"y\":[3.2999999999999998,2.7000000000000002,3,2.8999999999999999,3,3,2.5,2.8999999999999999,2.5,3.6000000000000001,3.2000000000000002,2.7000000000000002,3,2.5,2.7999999999999998,3.2000000000000002,3,3.7999999999999998,2.6000000000000001,2.2000000000000002,3.2000000000000002,2.7999999999999998,2.7999999999999998,2.7000000000000002,3.2999999999999998,3.2000000000000002,2.7999999999999998,3,2.7999999999999998,3,2.7999999999999998,3.7999999999999998,2.7999999999999998,2.7999999999999998,2.6000000000000001,3,3.3999999999999999,3.1000000000000001,3,3.1000000000000001,3.1000000000000001,3.1000000000000001,2.7000000000000002,3.2000000000000002,3.2999999999999998,3,2.5,3,3.3999999999999999,3],\"z\":[6,5.0999999999999996,5.9000000000000004,5.5999999999999996,5.7999999999999998,6.5999999999999996,4.5,6.2999999999999998,5.7999999999999998,6.0999999999999996,5.0999999999999996,5.2999999999999998,5.5,5,5.0999999999999996,5.2999999999999998,5.5,6.7000000000000002,6.9000000000000004,5,5.7000000000000002,4.9000000000000004,6.7000000000000002,4.9000000000000004,5.7000000000000002,6,4.7999999999999998,4.9000000000000004,5.5999999999999996,5.7999999999999998,6.0999999999999996,6.4000000000000004,5.5999999999999996,5.0999999999999996,5.5999999999999996,6.0999999999999996,5.5999999999999996,5.5,4.7999999999999998,5.4000000000000004,5.5999999999999996,5.0999999999999996,5.0999999999999996,5.9000000000000004,5.7000000000000002,5.2000000000000002,5,5.2000000000000002,5.4000000000000004,5.0999999999999996],\"type\":\"scatter3d\",\"mode\":\"markers\",\"name\":\"virginica\",\"marker\":{\"color\":\"rgba(141,160,203,1)\",\"size\":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],\"sizemode\":\"area\",\"line\":{\"color\":\"rgba(141,160,203,1)\"}},\"textfont\":{\"color\":\"rgba(141,160,203,1)\",\"size\":55},\"error_y\":{\"color\":\"rgba(141,160,203,1)\",\"width\":55},\"error_x\":{\"color\":\"rgba(141,160,203,1)\",\"width\":55},\"line\":{\"color\":\"rgba(141,160,203,1)\",\"width\":55},\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n## 時系列プロット\n\n`x`軸に日時データを指定すれば、簡単に時系列グラフを描画することができます。時系列プロットや線グラフを作成する場合には、`plot_ly`関数の返り値を`add_trace`関数の引数にする形でも指定できます。\n\n\n::: {.cell filename='add_trace関数'}\n\n```{.r .cell-code}\ndata.frame(year = time(Nile), value = Nile) |> \n  plot_ly(type = \"scatter\", mode = \"lines\") |> \n  add_trace(x = ~year, y = ~value)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-2c6a59d46f6b0dfdb497\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-2c6a59d46f6b0dfdb497\">{\"x\":{\"visdat\":{\"5e1c8ca3647\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"5e1c8ca3647\",\"attrs\":{\"5e1c8ca3647\":{\"mode\":\"lines\",\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\"},\"5e1c8ca3647.1\":{\"mode\":\"lines\",\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\",\"x\":{},\"y\":{},\"inherit\":true}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"year\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"value\"},\"hovermode\":\"closest\",\"showlegend\":true},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"mode\":\"lines\",\"type\":\"scatter\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"error_y\":{\"color\":\"rgba(31,119,180,1)\"},\"error_x\":{\"color\":\"rgba(31,119,180,1)\"},\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"mode\":\"lines\",\"type\":\"scatter\",\"x\":[1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970],\"y\":[1120,1160,963,1210,1160,1160,813,1230,1370,1140,995,935,1110,994,1020,960,1180,799,958,1140,1100,1210,1150,1250,1260,1220,1030,1100,774,840,874,694,940,833,701,916,692,1020,1050,969,831,726,456,824,702,1120,1100,832,764,821,768,845,864,862,698,845,744,796,1040,759,781,865,845,944,984,897,822,1010,771,676,649,846,812,742,801,1040,860,874,848,890,744,749,838,1050,918,986,797,923,975,815,1020,906,901,1170,912,746,919,718,714,740],\"marker\":{\"color\":\"rgba(255,127,14,1)\",\"line\":{\"color\":\"rgba(255,127,14,1)\"}},\"error_y\":{\"color\":\"rgba(255,127,14,1)\"},\"error_x\":{\"color\":\"rgba(255,127,14,1)\"},\"line\":{\"color\":\"rgba(255,127,14,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n## ウォーターフォールプロット\n\n企業の財務状態などを表記する場合には、**ウォーターフォールプロット**が便利です。ウォーターフォールプロットでは、収益と支出の色を変え、収益はプラス方向、支出はマイナス方向の方向性を持った形で棒グラフで表現します。ウォーターフォールプロットを作図する場合には、`type=\"waterfall\"`と指定します。\n\n`plotly`では、ウォーターフォールプロットのほかにも、[ろうそくチャート](https://ja.wikipedia.org/wiki/%E3%83%AD%E3%83%BC%E3%82%BD%E3%82%AF%E8%B6%B3%E3%83%81%E3%83%A3%E3%83%BC%E3%83%88)や[オープン-ハイ-ロー-クローズチャート](https://datavizcatalogue.com/methods/OHLC_chart.html)など、ビジネスや株価に関連したグラフを簡単に作成することができます。\n\n\n::: {.cell filename='waterfallプロット'}\n\n```{.r .cell-code}\nx= c(\"Sales\", \"Consulting\", \"Net revenue\", \"Purchases\", \"Other expenses\", \"Profit before tax\")\nmeasure= c(\"relative\", \"relative\", \"total\", \"relative\", \"relative\", \"total\")\ntext= c(\"+60\", \"+80\", \"\", \"-40\", \"-20\", \"Total\")\ny= c(60, 80, 0, -40, -20, 0)\n\ndata = data.frame(x = factor(x, levels = x), measure, text, y)\n\nfig <- plot_ly(\n  data, name = \"20\", type = \"waterfall\", measure = ~measure,\n  x = ~x, textposition = \"outside\", y= ~y, text = ~text,\n  connector = list(line = list(color = \"rgb(63, 63, 63)\"))) \n\nfig <- fig %>%\n  layout(title = \"Profit and loss statement 2018\",\n        xaxis = list(title = \"\"),\n        yaxis = list(title = \"\"),\n        autosize = TRUE,\n        showlegend = TRUE)\n\nfig\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-c5b961b6e6852963c41a\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-c5b961b6e6852963c41a\">{\"x\":{\"visdat\":{\"5e1c7c062b6\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"5e1c7c062b6\",\"attrs\":{\"5e1c7c062b6\":{\"measure\":{},\"x\":{},\"textposition\":\"outside\",\"y\":{},\"text\":{},\"connector\":{\"line\":{\"color\":\"rgb(63, 63, 63)\"}},\"name\":\"20\",\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"waterfall\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"title\":\"Profit and loss statement 2018\",\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"\",\"type\":\"category\",\"categoryorder\":\"array\",\"categoryarray\":[\"Sales\",\"Consulting\",\"Net revenue\",\"Purchases\",\"Other expenses\",\"Profit before tax\"]},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"\"},\"autosize\":true,\"showlegend\":true,\"hovermode\":\"closest\"},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"measure\":[\"relative\",\"relative\",\"total\",\"relative\",\"relative\",\"total\"],\"x\":[\"Sales\",\"Consulting\",\"Net revenue\",\"Purchases\",\"Other expenses\",\"Profit before tax\"],\"textposition\":[\"outside\",\"outside\",\"outside\",\"outside\",\"outside\",\"outside\"],\"y\":[60,80,0,-40,-20,0],\"text\":[\"+60\",\"+80\",\"\",\"-40\",\"-20\",\"Total\"],\"connector\":{\"line\":{\"color\":\"rgb(63, 63, 63)\"}},\"name\":\"20\",\"type\":\"waterfall\",\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n## ggplotly\n\n`plotly`では、`ggplot2`で準備したグラフをインタラクティブなグラフに簡単に変換することができます。`ggplot2`のグラフオブジェクトを変数に保存し、その変数を`ggplotly`関数の引数にするだけで、`ggplot2`のグラフがインタラクティブなものに変換されます。\n\n\n::: {.cell filename='ggplotlyでインタラクティブなggplot2グラフ'}\n\n```{.r .cell-code}\np <- iris |> \n  ggplot(aes(x = Sepal.Length, y = Sepal.Width, size = Petal.Length, color = Species))+\n  geom_point() \n\nggplotly(p)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-e0ff210d54e482468e50\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e0ff210d54e482468e50\">{\"x\":{\"data\":[{\"x\":[5.0999999999999996,4.9000000000000004,4.7000000000000002,4.5999999999999996,5,5.4000000000000004,4.5999999999999996,5,4.4000000000000004,4.9000000000000004,5.4000000000000004,4.7999999999999998,4.7999999999999998,4.2999999999999998,5.7999999999999998,5.7000000000000002,5.4000000000000004,5.0999999999999996,5.7000000000000002,5.0999999999999996,5.4000000000000004,5.0999999999999996,4.5999999999999996,5.0999999999999996,4.7999999999999998,5,5,5.2000000000000002,5.2000000000000002,4.7000000000000002,4.7999999999999998,5.4000000000000004,5.2000000000000002,5.5,4.9000000000000004,5,5.5,4.9000000000000004,4.4000000000000004,5.0999999999999996,5,4.5,4.4000000000000004,5,5.0999999999999996,4.7999999999999998,5.0999999999999996,4.5999999999999996,5.2999999999999998,5],\"y\":[3.5,3,3.2000000000000002,3.1000000000000001,3.6000000000000001,3.8999999999999999,3.3999999999999999,3.3999999999999999,2.8999999999999999,3.1000000000000001,3.7000000000000002,3.3999999999999999,3,3,4,4.4000000000000004,3.8999999999999999,3.5,3.7999999999999998,3.7999999999999998,3.3999999999999999,3.7000000000000002,3.6000000000000001,3.2999999999999998,3.3999999999999999,3,3.3999999999999999,3.5,3.3999999999999999,3.2000000000000002,3.1000000000000001,3.3999999999999999,4.0999999999999996,4.2000000000000002,3.1000000000000001,3.2000000000000002,3.5,3.6000000000000001,3,3.3999999999999999,3.5,2.2999999999999998,3.2000000000000002,3.5,3.7999999999999998,3,3.7999999999999998,3.2000000000000002,3.7000000000000002,3.2999999999999998],\"text\":[\"Sepal.Length: 5.1<br />Sepal.Width: 3.5<br />Petal.Length: 1.4<br />Species: setosa\",\"Sepal.Length: 4.9<br />Sepal.Width: 3.0<br />Petal.Length: 1.4<br />Species: setosa\",\"Sepal.Length: 4.7<br />Sepal.Width: 3.2<br />Petal.Length: 1.3<br />Species: setosa\",\"Sepal.Length: 4.6<br />Sepal.Width: 3.1<br />Petal.Length: 1.5<br />Species: setosa\",\"Sepal.Length: 5.0<br />Sepal.Width: 3.6<br />Petal.Length: 1.4<br />Species: setosa\",\"Sepal.Length: 5.4<br />Sepal.Width: 3.9<br />Petal.Length: 1.7<br />Species: setosa\",\"Sepal.Length: 4.6<br />Sepal.Width: 3.4<br />Petal.Length: 1.4<br />Species: setosa\",\"Sepal.Length: 5.0<br />Sepal.Width: 3.4<br />Petal.Length: 1.5<br />Species: setosa\",\"Sepal.Length: 4.4<br />Sepal.Width: 2.9<br />Petal.Length: 1.4<br />Species: setosa\",\"Sepal.Length: 4.9<br />Sepal.Width: 3.1<br />Petal.Length: 1.5<br />Species: setosa\",\"Sepal.Length: 5.4<br />Sepal.Width: 3.7<br />Petal.Length: 1.5<br />Species: setosa\",\"Sepal.Length: 4.8<br />Sepal.Width: 3.4<br />Petal.Length: 1.6<br />Species: setosa\",\"Sepal.Length: 4.8<br />Sepal.Width: 3.0<br />Petal.Length: 1.4<br />Species: setosa\",\"Sepal.Length: 4.3<br />Sepal.Width: 3.0<br />Petal.Length: 1.1<br />Species: setosa\",\"Sepal.Length: 5.8<br />Sepal.Width: 4.0<br />Petal.Length: 1.2<br />Species: setosa\",\"Sepal.Length: 5.7<br />Sepal.Width: 4.4<br />Petal.Length: 1.5<br />Species: setosa\",\"Sepal.Length: 5.4<br />Sepal.Width: 3.9<br />Petal.Length: 1.3<br />Species: setosa\",\"Sepal.Length: 5.1<br />Sepal.Width: 3.5<br />Petal.Length: 1.4<br />Species: setosa\",\"Sepal.Length: 5.7<br />Sepal.Width: 3.8<br />Petal.Length: 1.7<br />Species: setosa\",\"Sepal.Length: 5.1<br />Sepal.Width: 3.8<br />Petal.Length: 1.5<br />Species: setosa\",\"Sepal.Length: 5.4<br />Sepal.Width: 3.4<br />Petal.Length: 1.7<br />Species: setosa\",\"Sepal.Length: 5.1<br />Sepal.Width: 3.7<br />Petal.Length: 1.5<br />Species: setosa\",\"Sepal.Length: 4.6<br />Sepal.Width: 3.6<br />Petal.Length: 1.0<br />Species: setosa\",\"Sepal.Length: 5.1<br />Sepal.Width: 3.3<br />Petal.Length: 1.7<br />Species: setosa\",\"Sepal.Length: 4.8<br />Sepal.Width: 3.4<br />Petal.Length: 1.9<br />Species: setosa\",\"Sepal.Length: 5.0<br />Sepal.Width: 3.0<br />Petal.Length: 1.6<br />Species: setosa\",\"Sepal.Length: 5.0<br />Sepal.Width: 3.4<br />Petal.Length: 1.6<br />Species: setosa\",\"Sepal.Length: 5.2<br />Sepal.Width: 3.5<br />Petal.Length: 1.5<br />Species: setosa\",\"Sepal.Length: 5.2<br />Sepal.Width: 3.4<br />Petal.Length: 1.4<br />Species: setosa\",\"Sepal.Length: 4.7<br />Sepal.Width: 3.2<br />Petal.Length: 1.6<br />Species: setosa\",\"Sepal.Length: 4.8<br />Sepal.Width: 3.1<br />Petal.Length: 1.6<br />Species: setosa\",\"Sepal.Length: 5.4<br />Sepal.Width: 3.4<br />Petal.Length: 1.5<br />Species: setosa\",\"Sepal.Length: 5.2<br />Sepal.Width: 4.1<br />Petal.Length: 1.5<br />Species: setosa\",\"Sepal.Length: 5.5<br />Sepal.Width: 4.2<br />Petal.Length: 1.4<br />Species: setosa\",\"Sepal.Length: 4.9<br />Sepal.Width: 3.1<br />Petal.Length: 1.5<br />Species: setosa\",\"Sepal.Length: 5.0<br />Sepal.Width: 3.2<br />Petal.Length: 1.2<br />Species: setosa\",\"Sepal.Length: 5.5<br />Sepal.Width: 3.5<br />Petal.Length: 1.3<br />Species: setosa\",\"Sepal.Length: 4.9<br />Sepal.Width: 3.6<br />Petal.Length: 1.4<br />Species: setosa\",\"Sepal.Length: 4.4<br />Sepal.Width: 3.0<br />Petal.Length: 1.3<br />Species: setosa\",\"Sepal.Length: 5.1<br />Sepal.Width: 3.4<br />Petal.Length: 1.5<br />Species: setosa\",\"Sepal.Length: 5.0<br />Sepal.Width: 3.5<br />Petal.Length: 1.3<br />Species: setosa\",\"Sepal.Length: 4.5<br />Sepal.Width: 2.3<br />Petal.Length: 1.3<br />Species: setosa\",\"Sepal.Length: 4.4<br />Sepal.Width: 3.2<br />Petal.Length: 1.3<br />Species: setosa\",\"Sepal.Length: 5.0<br />Sepal.Width: 3.5<br />Petal.Length: 1.6<br />Species: setosa\",\"Sepal.Length: 5.1<br />Sepal.Width: 3.8<br />Petal.Length: 1.9<br />Species: setosa\",\"Sepal.Length: 4.8<br />Sepal.Width: 3.0<br />Petal.Length: 1.4<br />Species: setosa\",\"Sepal.Length: 5.1<br />Sepal.Width: 3.8<br />Petal.Length: 1.6<br />Species: setosa\",\"Sepal.Length: 4.6<br />Sepal.Width: 3.2<br />Petal.Length: 1.4<br />Species: setosa\",\"Sepal.Length: 5.3<br />Sepal.Width: 3.7<br />Petal.Length: 1.5<br />Species: setosa\",\"Sepal.Length: 5.0<br />Sepal.Width: 3.3<br />Petal.Length: 1.4<br />Species: setosa\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(248,118,109,1)\",\"opacity\":1,\"size\":[8.7000533284090924,8.7000533284090924,8.0408278752916278,9.2808426117125862,8.7000533284090924,10.288771311752807,8.7000533284090924,9.2808426117125862,8.7000533284090924,9.2808426117125862,9.2808426117125862,9.805916259621549,8.7000533284090924,6.2397904437321055,7.258864697568467,9.2808426117125862,8.0408278752916278,8.7000533284090924,10.288771311752807,9.2808426117125862,10.288771311752807,9.2808426117125862,3.7795275590551185,10.288771311752807,11.160316213086078,9.805916259621549,9.805916259621549,9.2808426117125862,8.7000533284090924,9.805916259621549,9.805916259621549,9.2808426117125862,9.2808426117125862,8.7000533284090924,9.2808426117125862,7.258864697568467,8.0408278752916278,8.7000533284090924,8.0408278752916278,9.2808426117125862,8.0408278752916278,8.0408278752916278,8.0408278752916278,9.805916259621549,11.160316213086078,8.7000533284090924,9.805916259621549,8.7000533284090924,9.2808426117125862,8.7000533284090924],\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(248,118,109,1)\"}},\"hoveron\":\"points\",\"name\":\"setosa\",\"legendgroup\":\"setosa\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[7,6.4000000000000004,6.9000000000000004,5.5,6.5,5.7000000000000002,6.2999999999999998,4.9000000000000004,6.5999999999999996,5.2000000000000002,5,5.9000000000000004,6,6.0999999999999996,5.5999999999999996,6.7000000000000002,5.5999999999999996,5.7999999999999998,6.2000000000000002,5.5999999999999996,5.9000000000000004,6.0999999999999996,6.2999999999999998,6.0999999999999996,6.4000000000000004,6.5999999999999996,6.7999999999999998,6.7000000000000002,6,5.7000000000000002,5.5,5.5,5.7999999999999998,6,5.4000000000000004,6,6.7000000000000002,6.2999999999999998,5.5999999999999996,5.5,5.5,6.0999999999999996,5.7999999999999998,5,5.5999999999999996,5.7000000000000002,5.7000000000000002,6.2000000000000002,5.0999999999999996,5.7000000000000002],\"y\":[3.2000000000000002,3.2000000000000002,3.1000000000000001,2.2999999999999998,2.7999999999999998,2.7999999999999998,3.2999999999999998,2.3999999999999999,2.8999999999999999,2.7000000000000002,2,3,2.2000000000000002,2.8999999999999999,2.8999999999999999,3.1000000000000001,3,2.7000000000000002,2.2000000000000002,2.5,3.2000000000000002,2.7999999999999998,2.5,2.7999999999999998,2.8999999999999999,3,2.7999999999999998,3,2.8999999999999999,2.6000000000000001,2.3999999999999999,2.3999999999999999,2.7000000000000002,2.7000000000000002,3,3.3999999999999999,3.1000000000000001,2.2999999999999998,3,2.5,2.6000000000000001,3,2.6000000000000001,2.2999999999999998,2.7000000000000002,3,2.8999999999999999,2.8999999999999999,2.5,2.7999999999999998],\"text\":[\"Sepal.Length: 7.0<br />Sepal.Width: 3.2<br />Petal.Length: 4.7<br />Species: versicolor\",\"Sepal.Length: 6.4<br />Sepal.Width: 3.2<br />Petal.Length: 4.5<br />Species: versicolor\",\"Sepal.Length: 6.9<br />Sepal.Width: 3.1<br />Petal.Length: 4.9<br />Species: versicolor\",\"Sepal.Length: 5.5<br />Sepal.Width: 2.3<br />Petal.Length: 4.0<br />Species: versicolor\",\"Sepal.Length: 6.5<br />Sepal.Width: 2.8<br />Petal.Length: 4.6<br />Species: versicolor\",\"Sepal.Length: 5.7<br />Sepal.Width: 2.8<br />Petal.Length: 4.5<br />Species: versicolor\",\"Sepal.Length: 6.3<br />Sepal.Width: 3.3<br />Petal.Length: 4.7<br />Species: versicolor\",\"Sepal.Length: 4.9<br />Sepal.Width: 2.4<br />Petal.Length: 3.3<br />Species: versicolor\",\"Sepal.Length: 6.6<br />Sepal.Width: 2.9<br />Petal.Length: 4.6<br />Species: versicolor\",\"Sepal.Length: 5.2<br />Sepal.Width: 2.7<br />Petal.Length: 3.9<br />Species: versicolor\",\"Sepal.Length: 5.0<br />Sepal.Width: 2.0<br />Petal.Length: 3.5<br />Species: versicolor\",\"Sepal.Length: 5.9<br />Sepal.Width: 3.0<br />Petal.Length: 4.2<br />Species: versicolor\",\"Sepal.Length: 6.0<br />Sepal.Width: 2.2<br />Petal.Length: 4.0<br />Species: versicolor\",\"Sepal.Length: 6.1<br />Sepal.Width: 2.9<br />Petal.Length: 4.7<br />Species: versicolor\",\"Sepal.Length: 5.6<br />Sepal.Width: 2.9<br />Petal.Length: 3.6<br />Species: versicolor\",\"Sepal.Length: 6.7<br />Sepal.Width: 3.1<br />Petal.Length: 4.4<br />Species: versicolor\",\"Sepal.Length: 5.6<br />Sepal.Width: 3.0<br />Petal.Length: 4.5<br />Species: versicolor\",\"Sepal.Length: 5.8<br />Sepal.Width: 2.7<br />Petal.Length: 4.1<br />Species: versicolor\",\"Sepal.Length: 6.2<br />Sepal.Width: 2.2<br />Petal.Length: 4.5<br />Species: versicolor\",\"Sepal.Length: 5.6<br />Sepal.Width: 2.5<br />Petal.Length: 3.9<br />Species: versicolor\",\"Sepal.Length: 5.9<br />Sepal.Width: 3.2<br />Petal.Length: 4.8<br />Species: versicolor\",\"Sepal.Length: 6.1<br />Sepal.Width: 2.8<br />Petal.Length: 4.0<br />Species: versicolor\",\"Sepal.Length: 6.3<br />Sepal.Width: 2.5<br />Petal.Length: 4.9<br />Species: versicolor\",\"Sepal.Length: 6.1<br />Sepal.Width: 2.8<br />Petal.Length: 4.7<br />Species: versicolor\",\"Sepal.Length: 6.4<br />Sepal.Width: 2.9<br />Petal.Length: 4.3<br />Species: versicolor\",\"Sepal.Length: 6.6<br />Sepal.Width: 3.0<br />Petal.Length: 4.4<br />Species: versicolor\",\"Sepal.Length: 6.8<br />Sepal.Width: 2.8<br />Petal.Length: 4.8<br />Species: versicolor\",\"Sepal.Length: 6.7<br />Sepal.Width: 3.0<br />Petal.Length: 5.0<br />Species: versicolor\",\"Sepal.Length: 6.0<br />Sepal.Width: 2.9<br />Petal.Length: 4.5<br />Species: versicolor\",\"Sepal.Length: 5.7<br />Sepal.Width: 2.6<br />Petal.Length: 3.5<br />Species: versicolor\",\"Sepal.Length: 5.5<br />Sepal.Width: 2.4<br />Petal.Length: 3.8<br />Species: versicolor\",\"Sepal.Length: 5.5<br />Sepal.Width: 2.4<br />Petal.Length: 3.7<br />Species: versicolor\",\"Sepal.Length: 5.8<br />Sepal.Width: 2.7<br />Petal.Length: 3.9<br />Species: versicolor\",\"Sepal.Length: 6.0<br />Sepal.Width: 2.7<br />Petal.Length: 5.1<br />Species: versicolor\",\"Sepal.Length: 5.4<br />Sepal.Width: 3.0<br />Petal.Length: 4.5<br />Species: versicolor\",\"Sepal.Length: 6.0<br />Sepal.Width: 3.4<br />Petal.Length: 4.5<br />Species: versicolor\",\"Sepal.Length: 6.7<br />Sepal.Width: 3.1<br />Petal.Length: 4.7<br />Species: versicolor\",\"Sepal.Length: 6.3<br />Sepal.Width: 2.3<br />Petal.Length: 4.4<br />Species: versicolor\",\"Sepal.Length: 5.6<br />Sepal.Width: 3.0<br />Petal.Length: 4.1<br />Species: versicolor\",\"Sepal.Length: 5.5<br />Sepal.Width: 2.5<br />Petal.Length: 4.0<br />Species: versicolor\",\"Sepal.Length: 5.5<br />Sepal.Width: 2.6<br />Petal.Length: 4.4<br />Species: versicolor\",\"Sepal.Length: 6.1<br />Sepal.Width: 3.0<br />Petal.Length: 4.6<br />Species: versicolor\",\"Sepal.Length: 5.8<br />Sepal.Width: 2.6<br />Petal.Length: 4.0<br />Species: versicolor\",\"Sepal.Length: 5.0<br />Sepal.Width: 2.3<br />Petal.Length: 3.3<br />Species: versicolor\",\"Sepal.Length: 5.6<br />Sepal.Width: 2.7<br />Petal.Length: 4.2<br />Species: versicolor\",\"Sepal.Length: 5.7<br />Sepal.Width: 3.0<br />Petal.Length: 4.2<br />Species: versicolor\",\"Sepal.Length: 5.7<br />Sepal.Width: 2.9<br />Petal.Length: 4.2<br />Species: versicolor\",\"Sepal.Length: 6.2<br />Sepal.Width: 2.9<br />Petal.Length: 4.3<br />Species: versicolor\",\"Sepal.Length: 5.1<br />Sepal.Width: 2.5<br />Petal.Length: 3.0<br />Species: versicolor\",\"Sepal.Length: 5.7<br />Sepal.Width: 2.8<br />Petal.Length: 4.1<br />Species: versicolor\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,186,56,1)\",\"opacity\":1,\"size\":[18.7447224486517,18.334639072202979,19.143864349396768,17.254942352358285,18.541104867117038,18.334639072202979,18.7447224486517,15.578533857025294,18.541104867117038,17.02844866191684,16.080841982440049,17.696876113108512,17.254942352358285,18.7447224486517,16.324456016591146,18.125202088279956,18.334639072202979,17.477691571553027,18.334639072202979,17.02844866191684,18.94560653634278,17.254942352358285,19.143864349396768,18.7447224486517,17.91266182703443,18.125202088279956,18.94560653634278,19.339596275766016,18.334639072202979,16.080841982440049,16.798015064450496,16.563428507764648,17.02844866191684,19.532896466386788,18.334639072202979,18.334639072202979,18.7447224486517,18.125202088279956,17.477691571553027,17.254942352358285,18.125202088279956,18.541104867117038,17.254942352358285,15.578533857025294,17.696876113108512,17.696876113108512,17.696876113108512,17.91266182703443,14.782157664370054,17.477691571553027],\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(0,186,56,1)\"}},\"hoveron\":\"points\",\"name\":\"versicolor\",\"legendgroup\":\"versicolor\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[6.2999999999999998,5.7999999999999998,7.0999999999999996,6.2999999999999998,6.5,7.5999999999999996,4.9000000000000004,7.2999999999999998,6.7000000000000002,7.2000000000000002,6.5,6.4000000000000004,6.7999999999999998,5.7000000000000002,5.7999999999999998,6.4000000000000004,6.5,7.7000000000000002,7.7000000000000002,6,6.9000000000000004,5.5999999999999996,7.7000000000000002,6.2999999999999998,6.7000000000000002,7.2000000000000002,6.2000000000000002,6.0999999999999996,6.4000000000000004,7.2000000000000002,7.4000000000000004,7.9000000000000004,6.4000000000000004,6.2999999999999998,6.0999999999999996,7.7000000000000002,6.2999999999999998,6.4000000000000004,6,6.9000000000000004,6.7000000000000002,6.9000000000000004,5.7999999999999998,6.7999999999999998,6.7000000000000002,6.7000000000000002,6.2999999999999998,6.5,6.2000000000000002,5.9000000000000004],\"y\":[3.2999999999999998,2.7000000000000002,3,2.8999999999999999,3,3,2.5,2.8999999999999999,2.5,3.6000000000000001,3.2000000000000002,2.7000000000000002,3,2.5,2.7999999999999998,3.2000000000000002,3,3.7999999999999998,2.6000000000000001,2.2000000000000002,3.2000000000000002,2.7999999999999998,2.7999999999999998,2.7000000000000002,3.2999999999999998,3.2000000000000002,2.7999999999999998,3,2.7999999999999998,3,2.7999999999999998,3.7999999999999998,2.7999999999999998,2.7999999999999998,2.6000000000000001,3,3.3999999999999999,3.1000000000000001,3,3.1000000000000001,3.1000000000000001,3.1000000000000001,2.7000000000000002,3.2000000000000002,3.2999999999999998,3,2.5,3,3.3999999999999999,3],\"text\":[\"Sepal.Length: 6.3<br />Sepal.Width: 3.3<br />Petal.Length: 6.0<br />Species: virginica\",\"Sepal.Length: 5.8<br />Sepal.Width: 2.7<br />Petal.Length: 5.1<br />Species: virginica\",\"Sepal.Length: 7.1<br />Sepal.Width: 3.0<br />Petal.Length: 5.9<br />Species: virginica\",\"Sepal.Length: 6.3<br />Sepal.Width: 2.9<br />Petal.Length: 5.6<br />Species: virginica\",\"Sepal.Length: 6.5<br />Sepal.Width: 3.0<br />Petal.Length: 5.8<br />Species: virginica\",\"Sepal.Length: 7.6<br />Sepal.Width: 3.0<br />Petal.Length: 6.6<br />Species: virginica\",\"Sepal.Length: 4.9<br />Sepal.Width: 2.5<br />Petal.Length: 4.5<br />Species: virginica\",\"Sepal.Length: 7.3<br />Sepal.Width: 2.9<br />Petal.Length: 6.3<br />Species: virginica\",\"Sepal.Length: 6.7<br />Sepal.Width: 2.5<br />Petal.Length: 5.8<br />Species: virginica\",\"Sepal.Length: 7.2<br />Sepal.Width: 3.6<br />Petal.Length: 6.1<br />Species: virginica\",\"Sepal.Length: 6.5<br />Sepal.Width: 3.2<br />Petal.Length: 5.1<br />Species: virginica\",\"Sepal.Length: 6.4<br />Sepal.Width: 2.7<br />Petal.Length: 5.3<br />Species: virginica\",\"Sepal.Length: 6.8<br />Sepal.Width: 3.0<br />Petal.Length: 5.5<br />Species: virginica\",\"Sepal.Length: 5.7<br />Sepal.Width: 2.5<br />Petal.Length: 5.0<br />Species: virginica\",\"Sepal.Length: 5.8<br />Sepal.Width: 2.8<br />Petal.Length: 5.1<br />Species: virginica\",\"Sepal.Length: 6.4<br />Sepal.Width: 3.2<br />Petal.Length: 5.3<br />Species: virginica\",\"Sepal.Length: 6.5<br />Sepal.Width: 3.0<br />Petal.Length: 5.5<br />Species: virginica\",\"Sepal.Length: 7.7<br />Sepal.Width: 3.8<br />Petal.Length: 6.7<br />Species: virginica\",\"Sepal.Length: 7.7<br />Sepal.Width: 2.6<br />Petal.Length: 6.9<br />Species: virginica\",\"Sepal.Length: 6.0<br />Sepal.Width: 2.2<br />Petal.Length: 5.0<br />Species: virginica\",\"Sepal.Length: 6.9<br />Sepal.Width: 3.2<br />Petal.Length: 5.7<br />Species: virginica\",\"Sepal.Length: 5.6<br />Sepal.Width: 2.8<br />Petal.Length: 4.9<br />Species: virginica\",\"Sepal.Length: 7.7<br />Sepal.Width: 2.8<br />Petal.Length: 6.7<br />Species: virginica\",\"Sepal.Length: 6.3<br />Sepal.Width: 2.7<br />Petal.Length: 4.9<br />Species: virginica\",\"Sepal.Length: 6.7<br />Sepal.Width: 3.3<br />Petal.Length: 5.7<br />Species: virginica\",\"Sepal.Length: 7.2<br />Sepal.Width: 3.2<br />Petal.Length: 6.0<br />Species: virginica\",\"Sepal.Length: 6.2<br />Sepal.Width: 2.8<br />Petal.Length: 4.8<br />Species: virginica\",\"Sepal.Length: 6.1<br />Sepal.Width: 3.0<br />Petal.Length: 4.9<br />Species: virginica\",\"Sepal.Length: 6.4<br />Sepal.Width: 2.8<br />Petal.Length: 5.6<br />Species: virginica\",\"Sepal.Length: 7.2<br />Sepal.Width: 3.0<br />Petal.Length: 5.8<br />Species: virginica\",\"Sepal.Length: 7.4<br />Sepal.Width: 2.8<br />Petal.Length: 6.1<br />Species: virginica\",\"Sepal.Length: 7.9<br />Sepal.Width: 3.8<br />Petal.Length: 6.4<br />Species: virginica\",\"Sepal.Length: 6.4<br />Sepal.Width: 2.8<br />Petal.Length: 5.6<br />Species: virginica\",\"Sepal.Length: 6.3<br />Sepal.Width: 2.8<br />Petal.Length: 5.1<br />Species: virginica\",\"Sepal.Length: 6.1<br />Sepal.Width: 2.6<br />Petal.Length: 5.6<br />Species: virginica\",\"Sepal.Length: 7.7<br />Sepal.Width: 3.0<br />Petal.Length: 6.1<br />Species: virginica\",\"Sepal.Length: 6.3<br />Sepal.Width: 3.4<br />Petal.Length: 5.6<br />Species: virginica\",\"Sepal.Length: 6.4<br />Sepal.Width: 3.1<br />Petal.Length: 5.5<br />Species: virginica\",\"Sepal.Length: 6.0<br />Sepal.Width: 3.0<br />Petal.Length: 4.8<br />Species: virginica\",\"Sepal.Length: 6.9<br />Sepal.Width: 3.1<br />Petal.Length: 5.4<br />Species: virginica\",\"Sepal.Length: 6.7<br />Sepal.Width: 3.1<br />Petal.Length: 5.6<br />Species: virginica\",\"Sepal.Length: 6.9<br />Sepal.Width: 3.1<br />Petal.Length: 5.1<br />Species: virginica\",\"Sepal.Length: 5.8<br />Sepal.Width: 2.7<br />Petal.Length: 5.1<br />Species: virginica\",\"Sepal.Length: 6.8<br />Sepal.Width: 3.2<br />Petal.Length: 5.9<br />Species: virginica\",\"Sepal.Length: 6.7<br />Sepal.Width: 3.3<br />Petal.Length: 5.7<br />Species: virginica\",\"Sepal.Length: 6.7<br />Sepal.Width: 3.0<br />Petal.Length: 5.2<br />Species: virginica\",\"Sepal.Length: 6.3<br />Sepal.Width: 2.5<br />Petal.Length: 5.0<br />Species: virginica\",\"Sepal.Length: 6.5<br />Sepal.Width: 3.0<br />Petal.Length: 5.2<br />Species: virginica\",\"Sepal.Length: 6.2<br />Sepal.Width: 3.4<br />Petal.Length: 5.4<br />Species: virginica\",\"Sepal.Length: 5.9<br />Sepal.Width: 3.0<br />Petal.Length: 5.1<br />Species: virginica\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(97,156,255,1)\",\"opacity\":1,\"size\":[21.17621325162186,19.532896466386788,21.001367751794024,20.465842288170109,20.824728824001159,22.19044915076994,18.334639072202979,21.690511716021859,20.824728824001159,21.349318865376187,19.532896466386788,19.912550178946361,20.283472717027522,19.339596275766016,19.532896466386788,19.912550178946361,20.283472717027522,22.35410500560798,22.677165354330711,19.339596275766016,20.646240122586843,19.143864349396768,22.35410500560798,19.143864349396768,20.646240122586843,21.17621325162186,18.94560653634278,19.143864349396768,20.465842288170109,20.824728824001159,21.349318865376187,21.858693660754415,20.465842288170109,19.532896466386788,20.465842288170109,21.349318865376187,20.465842288170109,20.283472717027522,18.94560653634278,20.099065307277083,20.465842288170109,19.532896466386788,19.532896466386788,21.001367751794024,20.646240122586843,19.723853364563592,19.339596275766016,19.723853364563592,20.099065307277083,19.532896466386788],\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(97,156,255,1)\"}},\"hoveron\":\"points\",\"name\":\"virginica\",\"legendgroup\":\"virginica\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":26.228310502283104,\"r\":7.3059360730593621,\"b\":40.182648401826491,\"l\":43.105022831050235},\"plot_bgcolor\":\"rgba(235,235,235,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[4.1200000000000001,8.0800000000000001],\"tickmode\":\"array\",\"ticktext\":[\"5\",\"6\",\"7\",\"8\"],\"tickvals\":[5,6,7,8],\"categoryorder\":\"array\",\"categoryarray\":[\"5\",\"6\",\"7\",\"8\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Sepal.Length\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[1.8799999999999999,4.5200000000000005],\"tickmode\":\"array\",\"ticktext\":[\"2.0\",\"2.5\",\"3.0\",\"3.5\",\"4.0\",\"4.5\"],\"tickvals\":[2,2.5,3,3.5,4,4.5],\"categoryorder\":\"array\",\"categoryarray\":[\"2.0\",\"2.5\",\"3.0\",\"3.5\",\"4.0\",\"4.5\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Sepal.Width\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Petal.Length<br />Species\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"5e1c42a37a11\":{\"x\":{},\"y\":{},\"size\":{},\"colour\":{},\"type\":\"scatter\"}},\"cur_data\":\"5e1c42a37a11\",\"visdat\":{\"5e1c42a37a11\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"site_libs/plotly-binding-4.10.4/plotly.js\"></script>\n<script src=\"site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}